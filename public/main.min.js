(()=>{"use strict";const t=["wheel","hideOutput","height","addEventListener","draw","unshift","handleInput","now","gyro-terminal","newline","sign","top","replaceInput","clear","clientWidth","measureText","\n            :host {\n                display: block;\n                width: 100%;\n                height: 100%;\n            }\n            canvas {\n                filter: contrast(1.1) blur(.33px);\n                outline: none;\n            }\n        ","split","connectedCallback","enableInput","textAlign","clearRect","ArrowDown","deltaY","drawCursor","define","resize","splice","join","pushToHistory","setBuffer","fill","slice","keydown","reformat","(c) 2020 luckydye. All rights reserved.","getMaxBufferWidth","shadowBlur","getContext","Backspace","indexOf","getCursorPosition","disableInput","submit","key","read","ArrowRight","max","init","attachShadow","cancelInput","ArrowLeft","width","disableLineWrapping","dispatchEvent","tabIndex","shortcut","Delete","End","#99d0f7","px monospace","prefix","length","Home","drawBuffer","setCursor","min","value"," ~{}=<>^abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ()[]-.,_:;#+'*/&%$§!?€1234567890\"","fillText","loop","handleSubmit","textBaseline","removeEventListener","push","clientHeight","inputEnabled","canvas","appendChild","cursor","fillStyle","stopPropagation","font","write","innerHTML"];var e,n;e=t,n=156,function(t){for(;--t;)e.push(e.shift())}(++n);const s=function(e,n){return t[e-=168]},i=s,o=[32,32],r=[1,0],a=i(241),c=i(250);let l,u,h=!0,d=7.69,f=["Terminal Version 1.0",i(217),""],p=[],m=[f[f[i(244)]-1][i(244)],f[i(244)]-1],w=[0,0],g="",M=!0,y=!1,b=[],x=-1;class v extends Event{constructor(t){const e=i;super(e(225)),this[e(249)]=t}}class E extends Event{constructor(t){const e=i;super(e(238)),this[e(226)]=t}}class C extends HTMLElement{get[i(183)](){return y}set[i(183)](t){y=t}get[i(173)](){return M}set inputEnabled(t){M=t}get[i(243)](){return g}set[i(243)](t){g=t}get[i(176)](){return m}constructor(){const t=i;super(),l=document.createElement(t(174)),l[t(237)]=0,u=l[t(220)]("2d"),window[t(185)](t(208),(t=>{this.reformat()})),window[t(185)](t(182),(e=>{const n=t,s=Math[n(192)](e[n(205)]),i=o[1]+12*m[1]+3*m[1],r=Math[n(229)](0,i-(l[n(184)]-45));w[1]=Math.max(0,Math.min(r,w[1]+15*s))})),window[t(185)](t(215),(t=>{this.handleInput(t)})),this[t(231)]({mode:"open"})}[i(220)](){return u}init(){const t=i,e=document.createElement("style");e[t(181)]=t(198),this.shadowRoot[t(175)](e),this.shadowRoot[t(175)](l),this[t(252)]()}[i(200)](){const t=i;!l.parentNode&&this[t(230)](),this[t(216)]()}append(t,e){const n=i,s=f.slice(0,t);s[n(171)](e),s[n(171)](...f[n(214)](t)),m[1]>=t&&m[1]++,this[n(212)](s)}[i(212)](t){f=t}[i(195)](){f=[""],this[i(247)](0,0)}[i(247)](t,e){m[0]=null!=t?t:m[0],m[1]=null!=e?e:m[1]}setPrefix(t=""){this[i(243)]=t}[i(224)](){this[i(173)]=!1}[i(201)](){this[i(173)]=!0}[i(235)](){h=!1}enableLineWrapping(){h=!0}[i(168)](t){const e=i;y?(t=p[e(210)](""),y=!1):t=t.slice(this[e(243)].length),this.pushToHistory(t),this[e(236)](new v(t))}[i(211)](t){""!=t&&b[i(187)](t),x=-1}[i(232)](){const t=i;f[m[1]]=this[t(243)],this.setCursor(f[m[1]].length)}[i(194)](t){this.cancelInput(),this.write(t)}[i(227)](t){return new Promise((e=>{const n=s,i=f[f.length-1];this[n(173)]=!0,this[n(243)]=t||i,t&&i!==t&&this[n(180)](t);const o=t=>{const s=n;e(t[s(249)]),this[s(170)](s(225),o)};this[n(185)](n(225),o)}))}[i(191)](){const t=i,e=f[f[t(244)]-1];return f[t(171)](""),m[0]=""[t(244)],m[1]++,e}[i(180)](t){const e=i;switch(t){case"\0":break;case"\r":const n=this[e(191)]();this[e(168)](n);break;case"\n":this[e(191)]();break;default:const s=u[e(197)]("M");d=s[e(234)];const i=f[m[1]][e(199)]("")[e(214)](0,m[0]);y?(p.push(t),i.push(...new Array(t.length)[e(213)]("*"))):i[e(171)](t);const o=f[m[1]][e(199)]("")[e(214)](m[0]);i.push(...o),f[m[1]]=i[e(210)](""),m[0]+=t.length}const n=o[1]+12*m[1]+3*m[1];w[1]=Math[e(229)](0,n-(l.height-45))}[i(188)](t){const e=i;let n=t[e(226)];t.shiftKey;const s=t.ctrlKey;if(M){if("Enter"==n&&this.write("\r"),"ArrowUp"==n&&(x=Math[e(248)](x+1,b[e(244)]-1),b[x]&&this[e(194)](b[x])),n==e(204)&&(x=Math.max(x-1,0),b[x]&&this.replaceInput(b[x])),n==e(233)&&(m[0]=Math[e(229)](m[0]-1,Math[e(229)](g[e(244)],0))),n==e(228)&&(m[0]=Math[e(248)](m[0]+1,f[f[e(244)]-1][e(244)])),"Escape"==n&&this[e(232)](),n==e(240)&&(m[0]=f[f[e(244)]-1][e(244)]),n==e(245)&&(m[0]=Math[e(229)](g[e(244)],0)),n==e(221)&&m[0]>0&&m[0]>g[e(244)]){const t=f[f.length-1].split("").slice(0,m[0]-1),n=f[f.length-1].split("")[e(214)](m[0]);t[e(171)](...n),f[f[e(244)]-1]=t[e(210)](""),m[0]--}if(n==e(239)){const t=f[f[e(244)]-1][e(199)]("")[e(214)](0,m[0]),n=f[f[e(244)]-1][e(199)]("").slice(m[0]+1);t.push(...n),f[f[e(244)]-1]=t[e(210)]("")}-1!=c[e(222)](n)&&!s&&this[e(180)](n)}if(s){const s=new E(n);!this[e(236)](s)&&(t.preventDefault(),t[e(178)](),-1!=c.indexOf(n)&&this[e(236)](new v("^"+n)))}}[i(216)](){const t=i;l.width=this[t(196)],l[t(184)]=this[t(172)]}[i(186)](t){const e=i;t[e(203)](0,0,t[e(174)][e(234)],t[e(174)][e(184)]),t[e(179)]="300 13"+e(242),t[e(202)]="left",t[e(169)]=e(193),t.shadowColor=a,t[e(219)]=12,t[e(177)]=a,this[e(246)](),this[e(173)]&&this.drawCursor(),t.shadowColor="none",t.shadowBlur=0}[i(206)](){const t=i;if(Date[t(189)]()/500%2>1){const e=this[t(223)]();u[t(177)]=a,u.fillRect(e[0],e[1],6,16)}}getMaxBufferWidth(){return l.width-2*o[0]}[i(223)](){const t=i,e=this[t(218)]();let n=0;for(let s=0;s<m[1];s++){const i=f[s];if(e-u.measureText(i)[t(234)]<0&&h){const t=T(i,e/d);for(let e of t)n++}else n++}const s=o[0]+m[0]*d,a=o[1]+12*n+3*n+6-8-w[1];return[s+r[0],a+r[1]]}[i(246)](){const t=i,e=this.getMaxBufferWidth();let n=o[0],r=o[1]-w[1];const a=t=>{u[s(251)](t,n,r),r+=15};for(let n of f)if(e-u[t(197)](n)[t(234)]<0&&h){const t=T(n,e/d);for(let e of t)a(e)}else a(n)}[i(252)](){const t=i;this[t(186)](u),requestAnimationFrame(this[t(252)].bind(this))}}function T(t,e){const n=i,s=[];for(t=t[n(199)]("");t[n(244)]>e;){const i=t[n(209)](0,e);s.push(i[n(210)](""))}return s[n(171)](t.join("")),s}customElements[i(207)](i(190),C);const I=["installModule","data","append","cursor","http","text","origin","split","parse","https","moduleName","install"," left the room.","message","type","getSocket","commandName","onopen","left","getTerminal","print","simulateWrite","replace","write","fetchModule","username"];var k,W;k=I,W=391,function(t){for(;--t;)k.push(k.shift())}(++W);const L=function(t,e){return I[t-=427]},P=L,S=new C;let A,B=new Map;class j{static getModules(){return B}static async[P(450)](t){const e=P,n=await fetchModule(t);return n[e(432)]=t,n}static async[P(452)](t){const e=P;try{if(!t[e(437)])throw new Error("Missing install method in module: "+path);{const n=t[e(436)]||t[e(432)];B.set(n,t),t[e(437)](j),j.print("[Module] Installed module '"+n+"'"),t[e(442)]&&(R[t[e(442)]]=t.run)}}catch(t){j[e(446)]("[Error] "+t.message)}}static connectToWebSocket(t=(()=>{})){const e=P;return A=new WebSocket(location.origin.replace(e(435),"wss")[e(448)](e(430),"ws")),A[e(443)]=e=>{t()},A.onmessage=t=>{const n=e,s=JSON[n(434)](t[n(427)]);if(s.type==n(439)){const t=s[n(427)].username+": "+s[n(427)][n(431)];S[n(428)](S.cursor[1],t)}if(s[n(440)]==n(444)){const t=s[n(427)][n(451)]+n(438);S[n(428)](S[n(429)][1],t)}},A}static[P(441)](){return A}static[P(445)](){return S}static async[P(447)](t,e=24){return new Promise((n=>{S.disableInput();let s=0;const i=setInterval((()=>{const e=L,o=t[s];S[e(449)](o),s++,s==t.length&&(clearInterval(i),n())}),e)}))}static[P(446)](t){const e=P,n=t[e(433)]("\n");for(let t of n)S[e(449)](t),S[e(449)]("\n")}static sleep(t){return new Promise((e=>{setTimeout((()=>e()),t)}))}}const D=["getTerminal","catch","print","close","message","disableInput","[Error] ","\nCommands: \n","fetchModule","getModules","Bye.","setPrefix","keys","clear"];var H,N;H=D,N=499,function(t){for(;--t;)H.push(H.shift())}(++N);const O=function(t,e){return D[t-=338]},R={modules(){const t=O;for(let[e,n]of j[t(338)]())j[t(345)](e)},async install([t]){const e=O;if(t){const n=await j[e(351)](t)[e(344)]((t=>{const n=e;j[n(345)](n(349)+t[n(347)])}));await j.installModule(n)}else j[e(345)]("Provide a module path.")},clear(t){const e=O;j.getTerminal()[e(342)]()},help(){const t=O;j[t(345)](t(350)+Object[t(341)](this).join(", ")+"\n")},exit:t=>new Promise((t=>{const e=O,n=j[e(343)]();n[e(340)](""),n[e(348)](),n.clear(),j.print(e(339)),setTimeout((()=>window[e(346)]()),1e3)}))};var K,q,F=["install","run"];K=F,q=320,function(t){for(;--t;)K.push(K.shift())}(++q);var z=function(t,e){return F[t-=108]};class J{static[z(108)](){}static[z(109)](t){}}window.ConsoleModule=J;const U=["install","commandName","getTerminal","disableInput","sin","fillStyle","fillRect","red","now","run","shortcut","toLocaleLowerCase","test-module","cos","test","key","moduleName"];var V,Y;V=U,Y=114,function(t){for(;--t;)V.push(V.shift())}(++Y);const $=function(t,e){return U[t-=385]},G=$;let Q;class X extends ConsoleModule{static get[G(389)](){return G(385)}static get[G(391)](){return G(387)}static[G(390)](t){Q=t}static[G(399)](t){return new Promise((t=>{const e=$,n=Q[e(392)]();let s=!0;n[e(393)](),n.addEventListener(e(400),(n=>{const i=e;"c"==n[i(388)][i(401)]()&&(s=!1,t())}));let i=0,o=0;const r=()=>{const t=e,a=n.getContext(),c=performance[t(398)]()/100;i+=20*Math[t(394)](c),o+=5*Math[t(386)](c+c),a[t(395)]=t(397),a[t(396)](400+i,100+o,48,48),s&&requestAnimationFrame(r)};r()}))}}const Z=["addEventListener","read","key","[OK]\n","reload","preventDefault","write",'\nCommand "',"installModule","\nConnection established.",'" not found.\n',"/statc/lib/minimal-module.js","error","shortcut","\0\0\0\0","Starting up","clipboardData","paste","getTerminal","disableInput","slice","sleep","Connecting to Interface\0.\0.\0.","connectToWebSocket","items","... ","message","terminal@52.59.209.57:~$ ","/statc/lib/chat-module.js","simulateWrite","getAsString","split","print","\n\n@@@@@@            .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     @@@@@@@@@@@@@@@ \n@@@@@@@@,               /@@@.                        @@@(            \n@@@@  @@@@#             /@@@.                        @@@(            \n@@@@    @@@@@@@@@       /@@@.     @@@@@@@@@@@&       @@@(            \n@@@@      @@@@@         /@@@.                        @@@(            \n(@@@        %           /@@@.                        @@@(            \n  .@                    /@@@.     @@@@@@@@@@@@@      @@@@@@@@@@@@@@@/\n\n"];var _,tt;_=Z,tt=318,function(t){for(;--t;)_.push(_.shift())}(++tt);const et=function(t,e){return Z[t-=488]},nt=et(509),st=et(503),it=[et(521),et(504),X];let ot=null;const rt=j[et(494)]();rt[et(495)](),mainEle.appendChild(rt),setTimeout((async()=>{const t=et,e=j.getTerminal();await j.print(nt),await j.sleep(200),await j[t(505)](t(491),12),await j.simulateWrite(t(501),250),j[t(508)](t(513));for(let e of it){let n=e;"string"==typeof n&&(n=await j.fetchModule(e).catch((e=>{const n=t;j[n(508)]("[Error] "+e[n(502)])}))),await j[t(518)](n)}async function n(n){const s=t;if(""!=n[0])if(R[n[0]]){ot=!1;const t=await R[n[0]](n[s(496)](1));0!==t&&null!=t&&j[s(508)]("\nProcess exited.\n"),e[s(511)](st),ot=!0}else j[s(508)](s(517)+n[0]+s(520))}j[t(508)](""),await j[t(497)](200),await j.simulateWrite(t(498),24),await j[t(505)](t(490),12),j[t(499)]((async()=>{const s=t;for(j[s(508)](s(519)),j.print(""),await j.sleep(200);;){const t=(await e[s(511)](st))[s(507)](" ");await n(t).catch((t=>{const e=s;console[e(488)](t),j[e(508)]("\n[Internal Error]: "+t.message+"\n")}))}})),e[t(510)](t(489),(e=>{const n=t;"r"==e[n(512)]?location[n(514)]():"v"==e[n(512)]&&e[n(515)]()})),window[t(510)](t(493),(n=>{const s=t;n[s(492)][s(500)][0][s(506)]((t=>{e[s(516)](t)}))}))}),200)})();