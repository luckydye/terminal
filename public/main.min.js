(()=>{"use strict";const t=["removeEventListener","reformat","read","setCursor","draw","handleSubmit","stopPropagation","innerHTML","define","drawBuffer","clear","canvas","disableInput","shadowColor","length","parentNode","inputEnabled","enableInput","open","ArrowLeft","cancelInput","addEventListener","value","height","style","connectedCallback","resize","hideOutput","attachShadow"," ~{}=<>^abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ()[]-.,_:;#+'*/&%$§!?€1234567890\"","init","shortcut","handleInput","min","key","shadowBlur","width","replaceInput","wheel","left","max","Backspace","indexOf","now","Delete","Escape","newline","createElement","\n            :host {\n                display: block;\n                width: 100%;\n                height: 100%;\n            }\n            canvas {\n                filter: contrast(1.1) blur(.33px);\n            }\n        ","fillRect","ctrlKey","write","Home","keydown","split","fillStyle","fill","submit","unshift","loop","Enter","deltaY","font","preventDefault","(c) 2020 luckydye. All rights reserved.","slice","prefix","getCursorPosition","End","setPrefix","join","drawCursor","dispatchEvent","clientHeight","textBaseline","push","setBuffer","fillText","gyro-terminal","pushToHistory","Terminal Version 1.0","shadowRoot"];var n,e;n=t,e=135,function(t){for(;--t;)n.push(n.shift())}(++e);const s=function(n,e){return t[n-=126]},i=s,o=[32,32],c=[1,0],r="#99d0f7",a=i(184);let h,l,u=7.69,d=[i(153),i(137),""],f=[],p=[d[d[i(169)]-1][i(169)],d[i(169)]-1],w=[0,0],m="",g=!0,v=!1,x=[],y=-1;class b extends Event{constructor(t){const n=i;super(n(130)),this[n(177)]=t}}class E extends Event{constructor(t){const n=i;super(n(186)),this[n(189)]=t}}class C extends HTMLElement{get[i(182)](){return v}set[i(182)](t){v=t}get[i(171)](){return g}set[i(171)](t){g=t}get[i(139)](){return m}set[i(139)](t){m=t}get cursor(){return p}constructor(){const t=i;super(),h=document[t(202)](t(166)),l=h.getContext("2d"),window[t(176)](t(181),(n=>{this[t(156)]()})),window[t(176)](t(193),(n=>{const e=t,s=Math.sign(n[e(134)]),i=o[1]+12*p[1]+3*p[1],c=Math.max(0,i-(h.height-45));w[1]=Math[e(195)](0,Math.min(c,w[1]+15*s))})),window[t(176)](t(126),(n=>{this[t(187)](n)})),this[t(183)]({mode:t(173)})}[i(185)](){const t=i,n=document[t(202)](t(179));n[t(162)]=t(203),this.shadowRoot.appendChild(n),this[t(154)].appendChild(h),this[t(132)]()}[i(180)](){!h[i(170)]&&this.init(),this.reformat()}append(t,n){const e=i,s=d.slice(0,t);s[e(148)](n),s[e(148)](...d.slice(t)),p[1]>=t&&p[1]++,this[e(149)](s)}setBuffer(t){d=t}[i(165)](){d=[""],this[i(158)](0,0)}[i(158)](t,n){p[0]=null!=t?t:p[0],p[1]=null!=n?n:p[1]}[i(142)](t=""){this.prefix=t}[i(167)](){this[i(171)]=!1}[i(172)](){this[i(171)]=!0}[i(160)](t){const n=i;v?(t=f[n(143)](""),v=!1):t=t[n(138)](this[n(139)][n(169)]),this[n(152)](t),this.dispatchEvent(new b(t)),this[n(206)](this[n(139)])}[i(152)](t){""!=t&&x[i(131)](t),y=-1}cancelInput(){const t=i;d[p[1]]=this[t(139)],this.setCursor(d[p[1]][t(169)])}[i(192)](t){const n=i;this[n(175)](),this[n(206)](t)}[i(157)](t){return new Promise((n=>{const e=s,i=d[d[e(169)]-1];this.inputEnabled=!0,this[e(139)]=t||i,t&&i!==t&&this[e(206)](t);const o=t=>{const s=e;n(t[s(177)]),this[s(155)]("submit",o)};this[e(176)](e(130),o)}))}[i(201)](){const t=i,n=d[d[t(169)]-1];return d[t(148)](""),p[0]=""[t(169)],p[1]++,n}write(t){const n=i;switch(t){case"\0":break;case"\r":const e=this[n(201)]();this[n(160)](e);break;case"\n":this[n(201)]();break;default:const s=l.measureText("M");u=s[n(191)];const i=d[p[1]].split("").slice(0,p[0]);v?(f[n(148)](t),i.push(...new Array(t[n(169)])[n(129)]("*"))):i[n(148)](t);const o=d[p[1]][n(127)]("")[n(138)](p[0]);i.push(...o),d[p[1]]=i.join(""),p[0]+=t[n(169)]}const e=o[1]+12*p[1]+3*p[1];w[1]=Math.max(0,e-(h[n(178)]-45))}[i(187)](t){const n=i;if(!g)return;let e=t[n(189)];t.shiftKey;const s=t[n(205)];if(e==n(133)&&this[n(206)]("\r"),"ArrowUp"==e&&(y=Math.min(y+1,x.length-1),x[y]&&this[n(192)](x[y])),"ArrowDown"==e&&(y=Math[n(195)](y-1,0),x[y]&&this.replaceInput(x[y])),e==n(174)&&(p[0]=Math[n(195)](p[0]-1,Math.max(m[n(169)],0))),"ArrowRight"==e&&(p[0]=Math[n(188)](p[0]+1,d[d[n(169)]-1][n(169)])),e==n(200)&&this[n(175)](),e==n(141)&&(p[0]=d[d.length-1][n(169)]),e==n(207)&&(p[0]=Math[n(195)](m[n(169)],0)),e==n(196)&&p[0]>0&&p[0]>m[n(169)]){const t=d[d[n(169)]-1][n(127)]("").slice(0,p[0]-1),e=d[d[n(169)]-1].split("")[n(138)](p[0]);t[n(148)](...e),d[d[n(169)]-1]=t[n(143)](""),p[0]--}if(e==n(199)){const t=d[d[n(169)]-1][n(127)]("")[n(138)](0,p[0]),e=d[d[n(169)]-1][n(127)]("").slice(p[0]+1);t[n(148)](...e),d[d.length-1]=t[n(143)]("")}-1!=a[n(197)](e)&&!s&&this[n(206)](e),s&&(t[n(136)](),t[n(161)](),this[n(145)](new E(e)),-1!=a[n(197)](e)&&this[n(145)](new b("^"+e)))}[i(156)](){const t=i;h.width=this.clientWidth,h[t(178)]=this[t(146)]}[i(159)](t){const n=i;t.clearRect(0,0,t.canvas[n(191)],t[n(166)].height),t[n(135)]="300 13px monospace",t.textAlign=n(194),t[n(147)]="top",t[n(168)]=r,t[n(190)]=12,t[n(128)]=r,this[n(164)](),g&&this[n(144)]()}drawCursor(){const t=i;if(Date[t(198)]()/500%2>1){const n=this[t(140)]();l[t(128)]=r,l[t(204)](n[0],n[1],6,16)}}[i(140)](){const t=o[0]+p[0]*u,n=o[1]+12*p[1]+3*p[1]+6-8-w[1];return[t+c[0],n+c[1]]}[i(164)](){const t=i;let n=0;for(let e of d){const s=o[0],i=o[1]+12*n+3*n-w[1];l[t(150)](e,s,i),n++}}[i(132)](){const t=i;this.draw(l),requestAnimationFrame(this[t(132)].bind(this))}}customElements[i(163)](i(151),C);const M=["append","wss","https","appendChild","write","split","onmessage","origin","length","gyro-terminal","http","data","replace","log","User: ","onopen","createElement","disableInput","\nConnection established."];var I,T;I=M,T=351,function(t){for(;--t;)I.push(I.shift())}(++T);const k=function(t,n){return M[t-=198]},A=k,B=document[A(205)](A(198));let P;function L(){return B}async function S(t,n=24){return new Promise((e=>{const s=k;B[s(206)]();let i=0;const o=setInterval((()=>{const n=s,c=t[i];B[n(212)](c),i++,i==t[n(216)]&&(clearInterval(o),e())}),n)}))}function D(t){const n=A,e=t[n(213)]("\n");for(let t of e)B.write(t),B[n(212)]("\n")}function H(t){return new Promise((n=>{setTimeout((()=>n()),t)}))}B[A(206)](),mainEle[A(211)](B);const R=["newline","\n__","close","\nNo help needed :)\n","toLocaleLowerCase","json","clear","/connections","Bye. 0","\nActive connections: ","Connecting to chat...","setPrefix","data","Bye. 1","read","then","Username: ","disableInput","prefix"];var j,K;j=R,K=400,function(t){for(;--t;)j.push(j.shift())}(++K);const O=function(t,n){return R[t-=438]},U={help(t){D(O(440))},prefix(t){const n=O;D(L()[n(455)])},clear(t){const n=O;L()[n(443)]()},async chat(t){const n=O,e=t[0];if(""==e||!e)return void D("Please provide a chat id to connect to");const s=L();s[n(448)](""),s[n(454)](),await S(n(447),10),s[n(456)](),s.newline(),s[n(448)]("");const i=await s.read(n(453));for(D(n(438)),s.setPrefix(""),await S("Your username: "+i,10),s.newline();;){const t=await s[n(451)]("> ");if(console.log(t),"^c"==t[n(441)]())return 1}},connections(t){const n=O,e=L();e[n(454)](),e[n(448)](""),fetch(n(444))[n(452)]((t=>t[n(442)]()))[n(452)]((async t=>{const e=n;await S(e(446)+t[e(449)]+"\n\n",12)}))},exit(t){const n=O,e=L();e[n(448)](""),e[n(454)](),e[n(443)](),D("Bye. 3"),setTimeout((()=>{e[n(443)](),D("Bye. 2")}),1e3),setTimeout((()=>{const t=n;e.clear(),D(t(450))}),2e3),setTimeout((()=>{const t=n;e[t(443)](),D(t(445)),window[t(439)]()}),3e3)}},N=["split","[OK]","value","submit","getAsString","Starting up","write","\n\n@@@@@@            .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     @@@@@@@@@@@@@@@      \n@@@@@@@@,               /@@@.                        @@@(                 \n@@@@  @@@@#             /@@@.                        @@@(                 \n@@@@    @@@@@@@@@       /@@@.     @@@@@@@@@@@&       @@@(                 \n@@@@      @@@@@         /@@@.                        @@@(                 \n(@@@        %           /@@@.                        @@@(                 \n  .@                    /@@@.     @@@@@@@@@@@@@      @@@@@@@@@@@@@@@/     \n\n","\0\0\0\0",'\nCommand "',"paste","items","read","addEventListener","slice","... ","terminal@52.59.209.57:~$ ","Connecting to Interface\0.\0.\0.",'" not found.\n'];var W,Y;W=N,Y=221,function(t){for(;--t;)W.push(W.shift())}(++Y);const _=function(t,n){return N[t-=263]},q=_(277),z=_(267);let F=!0;setTimeout((async()=>{const t=_,n=L();await D(q),await H(200),await S(t(275),12),await S(t(266),250),await D(t(271)),await H(200),await S(t(268),24),await S(t(278),12);const e=function(t=(()=>{})){const n=A;return P=new WebSocket(location[n(215)][n(201)](n(210),n(209))[n(201)](n(199),"ws")),P[n(204)]=function(e){D(n(207)),t()},P[n(214)]=function(t){const e=n;console[e(202)](t);const s=e(203)+t[e(200)]+"\n";B[e(208)](B.cursor[1],s)},P}((()=>{const e=t;D(""),n[e(263)](z)}));n[t(264)](t(273),(async s=>{const i=t;if(F){const t=s[i(272)][i(270)](" ");if(""!=t[0])if(U[t[0]]){F=!1;const e=await U[t[0]](t[i(265)](1));0!==e&&null!=e&&D("\nProcess exited.\n"),n[i(263)](z),F=!0}else e.send(s[i(272)]),D(i(279)+t[0]+i(269))}})),window[t(264)](t(280),(e=>{const s=t;e.clipboardData[s(281)][0][s(274)]((t=>{n[s(276)](t)}))}))}),500)})();