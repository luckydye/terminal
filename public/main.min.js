(()=>{"use strict";const t=["hideOutput","Backspace","init","(c) 2020 luckydye. All rights reserved.","gyro-terminal","define","key","clear","keydown","split"," ~{}=<>^abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ()[]-.,_:;#+'*/&%$§!?€1234567890\"","fillStyle","append","createElement","top","width","clientHeight","left","clientWidth","fill","Terminal Version 1.0","submit","reformat","setBuffer","appendChild","setCursor","canvas","length","shadowBlur","parentNode","draw","Home","Delete","measureText","inputEnabled","read","cursor","setPrefix","textBaseline","addEventListener","fillText","height","drawBuffer","removeEventListener","drawCursor","push","shadowRoot","End","wheel","now","shadowColor","font","shiftKey","value","\n            :host {\n                display: block;\n                width: 100%;\n                height: 100%;\n            }\n            canvas {\n                filter: contrast(1.1) blur(.33px);\n            }\n        ","disableInput","slice","#99d0f7","loop","attachShadow","resize","deltaY","px monospace","dispatchEvent","getContext","bind","textAlign","max","newline","prefix","handleSubmit","join","write","shortcut"];var n,e;n=t,e=362,function(t){for(;--t;)n.push(n.shift())}(++e);const s=function(n,e){return t[n-=145]},i=s,o=[32,32],c=[1,0],a=i(210),r=i(163);let l,h,u=7.69,d=[i(173),i(156),""],f=[],p=[d[d[i(180)]-1][i(180)],d[i(180)]-1],w=[0,0],m="",g=!0,b=!1;class v extends Event{constructor(t){const n=i;super(n(174)),this[n(206)]=t}}class y extends Event{constructor(t){const n=i;super(n(152)),this[n(159)]=t}}class x extends HTMLElement{get[i(153)](){return b}set[i(153)](t){b=t}get inputEnabled(){return g}set[i(187)](t){g=t}get[i(148)](){return m}set[i(148)](t){m=t}get[i(189)](){return p}constructor(){const t=i;super(),l=document[t(166)](t(179)),h=l[t(217)]("2d"),window[t(192)](t(213),(n=>{this[t(175)]()})),window[t(192)](t(201),(n=>{const e=t,s=Math.sign(n[e(214)]),i=o[1]+12*p[1]+3*p[1],c=Math[e(146)](0,i-(l[e(194)]-45));w[1]=Math.max(0,Math.min(c,w[1]+15*s))})),window[t(192)](t(161),(t=>{this.handleInput(t)})),this[t(212)]({mode:"open"})}[i(155)](){const t=i,n=document[t(166)]("style");n.innerHTML=t(207),this.shadowRoot[t(177)](n),this[t(199)][t(177)](l),this.loop()}connectedCallback(){const t=i;!l[t(182)]&&this[t(155)](),this[t(175)]()}[i(165)](t,n){const e=i,s=d[e(209)](0,t);s[e(198)](n),s[e(198)](...d[e(209)](t)),p[1]>=t&&p[1]++,this.setBuffer(s)}[i(176)](t){d=t}[i(160)](){d=[""],this[i(178)](0,0)}[i(178)](t,n){p[0]=null!=t?t:p[0],p[1]=null!=n?n:p[1]}[i(190)](t=""){this[i(148)]=t}[i(208)](){this[i(187)]=!1}enableInput(){this.inputEnabled=!0}[i(149)](t){const n=i;b?(t=f.join(""),b=!1):t=t.slice(this[n(148)][n(180)]),this[n(216)](new v(t)),this[n(151)](this[n(148)])}read(t){return new Promise((n=>{const e=s,i=d[d[e(180)]-1];this[e(187)]=!0,this[e(148)]=t||i,t&&this[e(151)](t);const o=t=>{const s=e;n(t[s(206)]),this[s(196)](s(174),o)};this[e(192)]("submit",o)}))}[i(147)](){const t=i,n=d[d.length-1];return d[t(198)](""),p[0]=""[t(180)],p[1]++,n}[i(151)](t){const n=i;switch(t){case"\0":break;case"\t":this[n(188)]();break;case"\r":const e=this[n(147)]();this[n(149)](e);break;case"\n":this[n(147)]();break;default:const s=h[n(186)]("M");u=s.width;const i=d[p[1]][n(162)]("")[n(209)](0,p[0]);b?(f[n(198)](t),i.push(...new Array(t[n(180)])[n(172)]("*"))):i.push(t);const o=d[p[1]].split("")[n(209)](p[0]);i[n(198)](...o),d[p[1]]=i[n(150)](""),p[0]+=t[n(180)]}const e=o[1]+12*p[1]+3*p[1];w[1]=Math[n(146)](0,e-(l.height-45))}handleInput(t){const n=i;if(!g)return;let e=t[n(159)];t[n(205)];const s=t.ctrlKey;if("Enter"==e&&this[n(151)]("\r"),"ArrowLeft"==e&&(p[0]=Math[n(146)](p[0]-1,Math[n(146)](m[n(180)],0))),"ArrowRight"==e&&(p[0]=Math.min(p[0]+1,d[d[n(180)]-1][n(180)])),e==n(200)&&(p[0]=d[d.length-1][n(180)]),e==n(184)&&(p[0]=Math[n(146)](m[n(180)],0)),e==n(154)&&p[0]>0&&p[0]>m[n(180)]){const t=d[d[n(180)]-1].split("")[n(209)](0,p[0]-1),e=d[d[n(180)]-1][n(162)]("")[n(209)](p[0]);t[n(198)](...e),d[d[n(180)]-1]=t[n(150)](""),p[0]--}if(e==n(185)){const t=d[d[n(180)]-1][n(162)]("").slice(0,p[0]),e=d[d[n(180)]-1].split("")[n(209)](p[0]+1);t[n(198)](...e),d[d[n(180)]-1]=t.join("")}-1!=r.indexOf(e)&&!s&&this[n(151)](e),s&&this[n(216)](new y(e))}[i(175)](){const t=i;l[t(168)]=this[t(171)],l.height=this[t(169)]}[i(183)](t){const n=i;t.clearRect(0,0,t[n(179)].width,t[n(179)][n(194)]),t[n(204)]="300 13"+n(215),t[n(145)]=n(170),t[n(191)]=n(167),t[n(203)]=a,t[n(181)]=12,t.fillStyle=a,this.drawBuffer(),g&&this[n(197)]()}[i(197)](){const t=i;if(Date[t(202)]()/500%2>1){const n=o[0]+p[0]*u,e=o[1]+12*p[1]+3*p[1]+6-8-w[1];h[t(164)]=a,h.fillRect(n+c[0],e+c[1],6,16)}}[i(195)](){const t=i;let n=0;for(let e of d){const s=o[0],i=o[1]+12*n+3*n-w[1];h[t(193)](e,s,i),n++}}[i(211)](){const t=i;this[t(183)](h),requestAnimationFrame(this[t(211)][t(218)](this))}}customElements[i(158)](i(157),x);const E=["cursor","gyro-terminal","\nConnection established.","append","appendChild","length","write","http","onopen","log","replace","wss","createElement","data","disableInput"];var M,k;M=E,k=177,function(t){for(;--t;)M.push(M.shift())}(++k);const B=function(t,n){return E[t-=260]},C=B,I=document[C(260)](C(264));function T(){return I}async function P(t,n=24){return new Promise((e=>{const s=B;I[s(262)]();let i=0;const o=setInterval((()=>{const n=s,c=t[i];I[n(269)](c),i++,i==t[n(268)]&&(clearInterval(o),e())}),n)}))}function A(t){const n=C,e=t.split("\n");for(let t of e)I[n(269)](t),I.write("\n")}function S(t){return new Promise((n=>{setTimeout((()=>n()),t)}))}I.disableInput(),mainEle[C(267)](I);const L=["Connecting to chat...","disableInput","read","setPrefix","log","Your username: ","newline"];var R,j;R=L,j=430,function(t){for(;--t;)R.push(R.shift())}(++j);const H=function(t,n){return L[t-=450]},D=["setPrefix","close","clear","Bye. 0","then","json","disableInput","read","\nActive connections: ","/connections","data"];var K,O;K=D,O=236,function(t){for(;--t;)K.push(K.shift())}(++O);const N=function(t,n){return D[t-=481]},U="terminal@52.59.209.57:~$ ",W={help(t){A("\nNo help needed :)\n")},clear(t){T().clear()},chat:async function(t){const n=H,e=t[0];if(""==e||!e)return void A("Please provide a chat id to connect to");const s=T();s.setPrefix(""),s[n(455)](),await P(n(454),10),s[n(453)]();const i=await s[n(456)]("Username: ");s[n(450)](""),console[n(451)](i),await P(n(452)+i,10),s.newline(),s.read("> ")},connections(t){const n=N,e=T();e[n(482)](),e[n(487)](""),fetch(n(485))[n(491)]((t=>t[n(481)]()))[n(491)]((async t=>{const s=n;await P(s(484)+t[s(486)]+"\n\n",12),e[s(483)](U)}))},exit(t){const n=N,e=T();e.setPrefix(""),e[n(482)](),e[n(489)](),A("Bye. 3"),setTimeout((()=>{e[n(489)](),A("Bye. 2")}),1e3),setTimeout((()=>{e.clear(),A("Bye. 1")}),2e3),setTimeout((()=>{const t=n;e.clear(),A(t(490)),window[t(488)]()}),3e3)}},Y=["submit","split",'" not found.\n',"addEventListener",'\nCommand "',"items","clipboardData","Starting up","[OK]","write","slice","value","getAsString"];var q,z;q=Y,z=240,function(t){for(;--t;)q.push(q.shift())}(++z);const F=function(t,n){return Y[t-=436]};let V=!0;setTimeout((async()=>{const t=F,n=T();await A("\n\n@@@@@@            .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     @@@@@@@@@@@@@@@      \n@@@@@@@@,               /@@@.                        @@@(                 \n@@@@  @@@@#             /@@@.                        @@@(                 \n@@@@    @@@@@@@@@       /@@@.     @@@@@@@@@@@&       @@@(                 \n@@@@      @@@@@         /@@@.                        @@@(                 \n(@@@        %           /@@@.                        @@@(                 \n  .@                    /@@@.     @@@@@@@@@@@@@      @@@@@@@@@@@@@@@/     \n\n"),await S(200),await P(t(437),12),await P("... ",250),await A(t(438)),await S(200),await P("Connecting to Interface\0.\0.\0.",24),await P("\0\0\0\0",12);const e=function(){const t=C,n=new WebSocket(location.origin[t(273)]("https",t(274)).replace(t(270),"ws"));return n[t(271)]=function(n){A(t(265)),P("\n"+U+"\t",0)},n.onmessage=function(n){const e=t;console[e(272)](n);const s="User: "+n[e(261)]+"\n";I[e(266)](I[e(263)][1],s)},n}();n[t(446)](t(443),(async n=>{const s=t;if(V){const t=n[s(441)][s(444)](" ");""!=t[0]&&(W[t[0]]?(V=!1,await W[t[0]](t[s(440)](1)),V=!0):(e.send(n[s(441)]),A(s(447)+t[0]+s(445))))}})),window[t(446)]("paste",(e=>{const s=t;e[s(436)][s(448)][0][s(442)]((t=>{n[s(439)](t)}))}))}),500)})();