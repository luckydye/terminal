(()=>{"use strict";const t=["pushToHistory","length","fillText","height","write","fill","innerHTML","setPrefix","none","keydown","init","ArrowRight","connectedCallback","key","textAlign","loop","textBaseline","disableInput","Escape","Enter","inputEnabled","cancelInput","open","px monospace","newline","push","sign","gyro-terminal","indexOf","createElement","Delete","define","getMaxBufferWidth","handleInput","width","canvas","replaceInput","max","join","stopPropagation","font","bind","resize","shortcut","removeEventListener","split","fillRect","shadowColor","shiftKey","append","slice","\n            :host {\n                display: block;\n                width: 100%;\n                height: 100%;\n            }\n            canvas {\n                filter: contrast(1.1) blur(.33px);\n                outline: none;\n            }\n        ","shadowRoot","appendChild","cursor","setCursor","clear","dispatchEvent","read","ArrowUp","measureText","getContext","wheel","top","deltaY","addEventListener","drawBuffer","shadowBlur","left","attachShadow","ArrowDown","End","prefix","#99d0f7","reformat","submit","handleSubmit","now","fillStyle","min","value","hideOutput","draw"];var e,n;e=t,n=412,function(t){for(;--t;)e.push(e.shift())}(++n);const s=function(e,n){return t[e-=492]},i=s,o=[32,32],r=[1,0],a=i(568),c=" ~{}=<>^abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ()[]-.,_:;#+'*/&%$§!?€1234567890\"";let l,h,u=7.69,d=["Terminal Version 1.0","(c) 2020 luckydye. All rights reserved.",""],p=[],f=[d[d[i(496)]-1].length,d[i(496)]-1],w=[0,0],m="",g=!0,y=!1,x=[],v=-1;class b extends Event{constructor(t){const e=i;super(e(570)),this[e(492)]=t}}class E extends Event{constructor(t){const e=i;super(e(538)),this[e(508)]=t}}class C extends HTMLElement{get[i(493)](){return y}set[i(493)](t){y=t}get[i(515)](){return g}set[i(515)](t){g=t}get[i(567)](){return m}set[i(567)](t){m=t}get[i(549)](){return f}constructor(){const t=i;super(),l=document[t(524)](t(530)),l.tabIndex=0,h=l[t(556)]("2d"),window[t(560)](t(537),(e=>{this[t(569)]()})),window[t(560)](t(557),(e=>{const n=t,s=Math[n(521)](e[n(559)]),i=o[1]+12*f[1]+3*f[1],r=Math[n(532)](0,i-(l[n(498)]-45));w[1]=Math[n(532)](0,Math.min(r,w[1]+15*s))})),window.addEventListener(t(504),(e=>{this[t(528)](e)})),this[t(564)]({mode:t(517)})}[i(556)](){return h}[i(505)](){const t=i,e=document[t(524)]("style");e[t(501)]=t(546),this[t(547)][t(548)](e),this[t(547)][t(548)](l),this.loop()}[i(507)](){const t=i;!l.parentNode&&this[t(505)](),this.reformat()}[i(544)](t,e){const n=i,s=d[n(545)](0,t);s[n(520)](e),s[n(520)](...d.slice(t)),f[1]>=t&&f[1]++,this.setBuffer(s)}setBuffer(t){d=t}[i(551)](){d=[""],this[i(550)](0,0)}[i(550)](t,e){f[0]=null!=t?t:f[0],f[1]=null!=e?e:f[1]}[i(502)](t=""){this[i(567)]=t}[i(512)](){this.inputEnabled=!1}enableInput(){this.inputEnabled=!0}[i(571)](t){const e=i;y?(t=p[e(533)](""),y=!1):t=t.slice(this.prefix.length),this[e(495)](t),this[e(552)](new b(t))}[i(495)](t){""!=t&&x.unshift(t),v=-1}[i(516)](){const t=i;d[f[1]]=this.prefix,this.setCursor(d[f[1]][t(496)])}[i(531)](t){this.cancelInput(),this.write(t)}[i(553)](t){return new Promise((e=>{const n=s,i=d[d[n(496)]-1];this[n(515)]=!0,this[n(567)]=t||i,t&&i!==t&&this[n(499)](t);const o=t=>{const s=n;e(t[s(492)]),this[s(539)](s(570),o)};this[n(560)](n(570),o)}))}[i(519)](){const t=i,e=d[d[t(496)]-1];return d[t(520)](""),f[0]=""[t(496)],f[1]++,e}write(t){const e=i;switch(t){case"\0":break;case"\r":const n=this.newline();this[e(571)](n);break;case"\n":this.newline();break;default:const s=h.measureText("M");u=s[e(529)];const i=d[f[1]].split("")[e(545)](0,f[0]);y?(p.push(t),i[e(520)](...new Array(t[e(496)])[e(500)]("*"))):i.push(t);const o=d[f[1]][e(540)]("")[e(545)](f[0]);i.push(...o),d[f[1]]=i[e(533)](""),f[0]+=t[e(496)]}const n=o[1]+12*f[1]+3*f[1];w[1]=Math.max(0,n-(l[e(498)]-45))}[i(528)](t){const e=i;let n=t[e(508)];t[e(543)];const s=t.ctrlKey;if(g){if(n==e(514)&&this[e(499)]("\r"),n==e(554)&&(v=Math[e(574)](v+1,x[e(496)]-1),x[v]&&this[e(531)](x[v])),n==e(565)&&(v=Math.max(v-1,0),x[v]&&this[e(531)](x[v])),"ArrowLeft"==n&&(f[0]=Math[e(532)](f[0]-1,Math[e(532)](m.length,0))),n==e(506)&&(f[0]=Math[e(574)](f[0]+1,d[d.length-1][e(496)])),n==e(513)&&this[e(516)](),n==e(566)&&(f[0]=d[d.length-1].length),"Home"==n&&(f[0]=Math[e(532)](m[e(496)],0)),"Backspace"==n&&f[0]>0&&f[0]>m[e(496)]){const t=d[d[e(496)]-1][e(540)]("")[e(545)](0,f[0]-1),n=d[d[e(496)]-1].split("")[e(545)](f[0]);t.push(...n),d[d.length-1]=t[e(533)](""),f[0]--}if(n==e(525)){const t=d[d.length-1][e(540)]("")[e(545)](0,f[0]),n=d[d.length-1][e(540)]("")[e(545)](f[0]+1);t[e(520)](...n),d[d[e(496)]-1]=t[e(533)]("")}-1!=c[e(523)](n)&&!s&&this.write(n)}s&&(t.preventDefault(),t[e(534)](),this[e(552)](new E(n)),-1!=c[e(523)](n)&&this.dispatchEvent(new b("^"+n)))}[i(569)](){l[i(529)]=this.clientWidth,l.height=this.clientHeight}[i(494)](t){const e=i;t.clearRect(0,0,t[e(530)][e(529)],t[e(530)].height),t[e(535)]="300 13"+e(518),t[e(509)]=e(563),t[e(511)]=e(558),t.shadowColor=a,t[e(562)]=12,t.fillStyle=a,this[e(561)](),this[e(515)]&&this.drawCursor(),t[e(542)]=e(503),t[e(562)]=0}drawCursor(){const t=i;if(Date[t(572)]()/500%2>1){const e=this.getCursorPosition();h[t(573)]=a,h[t(541)](e[0],e[1],6,16)}}[i(527)](){return l[i(529)]-2*o[0]}getCursorPosition(){const t=i;this[t(527)]();let e=1;for(let n=0;n<f[1];n++){const s=d[n];h[t(555)](s)[t(529)],e++}const n=o[0]+f[0]*u,s=o[1]+12*e+3*e+6-8-w[1];return[n+r[0],s+r[1]]}drawBuffer(){const t=i;this[t(527)]();let e=o[0],n=o[1];const s=s=>{const i=t;n+=15-w[1],h[i(497)](s,e,n)};for(let e of d)h.measureText(e)[t(529)],s(e)}[i(510)](){const t=i;this[t(494)](h),requestAnimationFrame(this.loop[t(536)](this))}}customElements[i(526)](i(522),C);const M=["appendChild","gyro-terminal","onmessage","text","left","replace","createElement","parse","wss","type","append","split","write","length","origin","disableInput","message","data","username","\nConnection established.","cursor"];var I,k;I=M,k=155,function(t){for(;--t;)I.push(I.shift())}(++k);const L=function(t,e){return M[t-=385]},P=L,S=document[P(404)](P(399));let T;function A(){return S}async function B(t,e=24){return new Promise((n=>{const s=L;S[s(392)]();let i=0;const o=setInterval((()=>{const e=s,r=t[i];S[e(389)](r),i++,i==t[e(390)]&&(clearInterval(o),n())}),e)}))}function O(t){const e=P,n=t[e(388)]("\n");for(let t of n)S[e(389)](t),S[e(389)]("\n")}function D(t){return new Promise((e=>{setTimeout((()=>e()),t)}))}S[P(392)](),mainEle[P(398)](S);const H=["send","shortcut","clear","key","cos","Please provide a chat id to connect to","stringify","prefix","Connecting to chat...","disableInput","getContext","toLocaleLowerCase","leave","read","\nNo help needed :)\n","sin","fillStyle","Bye.","red","Commands: ","join","newline","setPrefix","now","close","chat"];var N,R;N=H,R=496,function(t){for(;--t;)N.push(N.shift())}(++R);const j=function(t,e){return H[t-=162]},J={help(t){O(j(174))},prefix(t){const e=j;O(A()[e(167)])},clear(t){const e=j;A()[e(162)]()},async run(t){console.log(t)},list(){const t=j;O(t(179)+Object.keys(this)[t(180)](", "))},test:t=>new Promise((t=>{const e=j,n=A();let s=!0;n[e(169)](),n.addEventListener(e(187),(n=>{const i=e;"c"==n[i(163)][i(171)]()&&(s=!1,t())}));let i=0,o=0;const r=()=>{const t=e,a=n[t(170)](),c=performance[t(183)]()/100;i+=20*Math[t(175)](c),o+=5*Math[t(164)](c+c),a[t(176)]=t(178),a.fillRect(400+i,100+o,48,48),s&&requestAnimationFrame(r)};r()})),async chat(t){const e=j,n=T,s=t[0];if(""==s||!s)return void O(e(165));const i=A();i[e(182)](""),i[e(169)](),await B(e(168),10),i[e(181)](),i[e(181)]();const o=await i[e(173)]("Username: ");for(i[e(181)]();;){const t=await i[e(173)]("> ");if(""!=t&&(n[e(186)](JSON.stringify({type:e(185),data:{username:escape(o),room:s,message:t}})),"^c"==t[e(171)]()))return n[e(186)](JSON[e(166)]({type:e(172),data:{username:escape(o),room:s}})),1}},exit:t=>new Promise((t=>{const e=j,n=A();n[e(182)](""),n[e(169)](),n[e(162)](),O(e(177)),setTimeout((()=>window[e(184)]()),1e3)}))},K=["clipboardData","... ","error","read","getAsString","catch","Connecting to Interface\0.\0.\0.","terminal@52.59.209.57:~$ ","\nProcess exited.\n","items","message","addEventListener",'\nCommand "',"slice","\0\0\0\0","paste","write","Starting up","\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s\n"];var W,q;W=K,q=250,function(t){for(;--t;)W.push(W.shift())}(++q);const F=function(t,e){return K[t-=196]},U=F(200);let z=null;setTimeout((async()=>{const t=F,e=A();async function n(n){const s=t;if(""!=n[0])if(J[n[0]]){z=!1;const t=await J[n[0]](n[s(206)](1));0!==t&&null!=t&&O(s(201)),e.read(U),z=!0}else O(s(205)+n[0]+'" not found.\n')}await O("\n\n@@@@@@            .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     @@@@@@@@@@@@@@@      \n@@@@@@@@,               /@@@.                        @@@(                 \n@@@@  @@@@#             /@@@.                        @@@(                 \n@@@@    @@@@@@@@@       /@@@.     @@@@@@@@@@@&       @@@(                 \n@@@@      @@@@@         /@@@.                        @@@(                 \n(@@@        %           /@@@.                        @@@(                 \n  .@                    /@@@.     @@@@@@@@@@@@@      @@@@@@@@@@@@@@@/     \n\n"),await D(200),await B(t(210),12),await B(t(213),250),await O("[OK]"),await O(t(211)),await D(200),await B(t(199),24),await B(t(207),12),function(t=(()=>{})){const e=P;T=new WebSocket(location[e(391)][e(403)]("https",e(385)).replace("http","ws")),T.onopen=function(n){O(e(396)),t()},T[e(400)]=function(t){const n=e,s=JSON[n(405)](t[n(394)]);if(s[n(386)]==n(393)){const t=s[n(394)][n(395)]+": "+s[n(394)][n(401)];S.append(S[n(397)][1],t)}if(s[n(386)]==n(402)){const t=s[n(394)].username+" left the room.";S[n(387)](S[n(397)][1],t)}}}((async()=>{const s=t;for(O("");;){const t=(await e[s(196)](U)).split(" ");await n(t)[s(198)]((t=>{const e=s;console[e(214)](t),O("\n[Internal Error]: "+t[e(203)]+"\n")}))}})),window[t(204)](t(208),(n=>{const s=t;n[s(212)][s(202)][0][s(197)]((t=>{e[s(209)](t)}))}))}),500)})();