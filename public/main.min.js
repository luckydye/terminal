(()=>{"use strict";const t=["getContext","measureText","#99d0f7","connectedCallback","open","top","addEventListener","key","deltaY","sign"," {}=<>^abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ()[]-.,_:;#+'*/&%$§!?€1234567890\"","enableInput","setCursor","Backspace","removeEventListener","fill","define","fillStyle","wheel","textBaseline","draw","canvas","push","loop","handleSubmit","End","newline","inputEnabled","setPrefix","createElement","drawBuffer","px monospace","clearRect","attachShadow","shadowBlur","drawCursor","Delete","read","shiftKey","hideOutput","clientHeight","dispatchEvent","Enter","Home","init","min","ctrlKey","length","parentNode","Terminal Version 1.0","prefix","append","setBuffer","ArrowLeft","split","value","\n            :host {\n                display: block;\n                width: 100%;\n                height: 100%;\n            }\n            canvas {\n                filter: contrast(1.1) blur(.33px);\n            }\n        ","submit","indexOf","slice","cursor","height","shadowRoot","fillRect","join","font","width","handleInput","max","fillText","disableInput","appendChild","write","keydown","now","reformat","clientWidth"];var n,e;n=t,e=465,function(t){for(;--t;)n.push(n.shift())}(++e);const s=function(n,e){return t[n-=341]},i=s,o=[32,32],a=[1,0],r=i(417),c=i(348);let l,h,u=7.69,d=[i(387),"(c) 2020 luckydye. All rights reserved.",""],f=[],p=[d[d[i(385)]-1][i(385)],d[i(385)]-1],w=[0,0],m="",g=!0,v=!1;class b extends Event{constructor(t){const n=i;super(n(395)),this[n(393)]=t}}class y extends HTMLElement{get[i(377)](){return v}set hideOutput(t){v=t}get[i(365)](){return g}set[i(365)](t){g=t}get[i(388)](){return m}set[i(388)](t){m=t}get[i(398)](){return p}constructor(){const t=i;super(),l=document[t(367)](t(359)),h=l[t(415)]("2d"),window[t(344)]("resize",(n=>{this[t(413)]()})),window.addEventListener(t(356),(n=>{const e=t,s=Math[e(347)](n[e(346)]),i=o[1]+12*p[1]+3*p[1],a=Math[e(406)](0,i-(l[e(399)]-45));w[1]=Math.max(0,Math[e(383)](a,w[1]+15*s))})),window[t(344)](t(411),(n=>{this[t(405)](n)})),this[t(371)]({mode:t(342)})}[i(382)](){const t=i,n=document.createElement("style");n.innerHTML=t(394),this[t(400)][t(409)](n),this[t(400)][t(409)](l),this[t(361)]()}[i(341)](){const t=i;!l[t(386)]&&this[t(382)](),this[t(413)]()}[i(389)](t,n){const e=i,s=d[e(397)](0,t);s.push(n),s[e(360)](...d[e(397)](t)),p[1]>=t&&p[1]++,this[e(390)](s)}setBuffer(t){d=t}clear(){d=[""],this[i(350)](0,0)}[i(350)](t,n){p[0]=null!=t?t:p[0],p[1]=null!=n?n:p[1]}[i(366)](t=""){this.prefix=t}[i(408)](){this[i(365)]=!1}[i(349)](){this.inputEnabled=!0}[i(362)](t){const n=i;v?(t=f[n(402)](""),v=!1):t=t[n(397)](this[n(388)].length),this[n(379)](new b(t)),this.write(this[n(388)])}[i(375)](t){return new Promise((n=>{const e=s,i=d[d[e(385)]-1];this[e(365)]=!0,this[e(388)]=t||i,t&&this[e(410)](t);const o=t=>{const s=e;n(t[s(393)]),this[s(352)]("submit",o)};this[e(344)](e(395),o)}))}newline(){const t=i,n=d[d[t(385)]-1];return d[t(360)](""),p[0]=""[t(385)],p[1]++,n}write(t){const n=i;switch(t){case"\0":break;case"\t":this[n(375)]();break;case"\r":const e=this[n(364)]();this[n(362)](e);break;case"\n":this[n(364)]();break;default:const s=h[n(416)]("M");u=s[n(404)];const i=d[p[1]].split("").slice(0,p[0]);v?(f[n(360)](t),i.push(...new Array(t.length)[n(353)]("*"))):i.push(t);const o=d[p[1]][n(392)]("")[n(397)](p[0]);i.push(...o),d[p[1]]=i[n(402)](""),p[0]+=t[n(385)]}const e=o[1]+12*p[1]+3*p[1];w[1]=Math.max(0,e-(l.height-45))}handleInput(t){const n=i;if(!g)return;let e=t[n(345)];t[n(376)];const s=t[n(384)];if(e==n(380)&&this.write("\r"),e==n(391)&&(p[0]=Math[n(406)](p[0]-1,0)),"ArrowRight"==e&&(p[0]=Math.min(p[0]+1,d[d[n(385)]-1][n(385)])),e==n(363)&&(p[0]=d[d[n(385)]-1][n(385)]),e==n(381)&&(p[0]=0),e==n(351)&&p[0]>0&&p[0]>m[n(385)]){const t=d[d[n(385)]-1][n(392)]("")[n(397)](0,p[0]-1),e=d[d[n(385)]-1].split("")[n(397)](p[0]);t[n(360)](...e),d[d[n(385)]-1]=t[n(402)](""),p[0]--}if(e==n(374)){const t=d[d.length-1][n(392)]("")[n(397)](0,p[0]),e=d[d[n(385)]-1][n(392)]("").slice(p[0]+1);t[n(360)](...e),d[d[n(385)]-1]=t[n(402)]("")}-1!=c[n(396)](e)&&!s&&this[n(410)](e)}reformat(){const t=i;l[t(404)]=this[t(414)],l[t(399)]=this[t(378)]}draw(t){const n=i;t[n(370)](0,0,t[n(359)].width,t.canvas[n(399)]),t[n(403)]="300 13"+n(369),t.textAlign="left",t[n(357)]=n(343),t.shadowColor=r,t[n(372)]=12,t[n(355)]=r,this[n(368)](),g&&this.drawCursor()}[i(373)](){const t=i;if(Date[t(412)]()/500%2>1){const n=o[0]+p[0]*u,e=o[1]+12*p[1]+3*p[1]+6-8-w[1];h[t(355)]=r,h[t(401)](n+a[0],e+a[1],6,16)}}[i(368)](){const t=i;let n=0;for(let e of d){const s=o[0],i=o[1]+12*n+3*n-w[1];h[t(407)](e,s,i),n++}}loop(){this[i(358)](h),requestAnimationFrame(this.loop.bind(this))}}customElements[i(354)]("gyro-terminal",y);const x=["\nConnection established.","write","appendChild","createElement","cursor","User: ","split","origin","https","disableInput","wss","data","length","replace","http"];var E,k;E=x,k=109,function(t){for(;--t;)E.push(E.shift())}(++k);const C=function(t,n){return x[t-=311]},I=C,B=document[I(325)]("gyro-terminal");function M(){return B}async function T(t,n=24){return new Promise((e=>{B.disableInput();let s=0;const i=setInterval((()=>{const n=C,o=t[s];B[n(323)](o),s++,s==t[n(319)]&&(clearInterval(i),e())}),n)}))}function A(t){const n=I,e=t[n(313)]("\n");for(let t of e)B[n(323)](t),B[n(323)]("\n")}function L(t){return new Promise((n=>{setTimeout((()=>n()),t)}))}B[I(316)](),mainEle[I(324)](B);const P=["log","setPrefix","disableInput","Please provide a chat id to connect to","newline","read","Your username: "];var S,H;S=P,H=439,function(t){for(;--t;)S.push(S.shift())}(++H);const O=function(t,n){return P[t-=208]},R=["/connections","\nNo help needed :)\n","terminal@52.59.209.57:~$ ","Bye. 1","Bye. 3","close","Bye. 2","setPrefix","read","json","disableInput","clear","then"];var D,K;D=R,K=366,function(t){for(;--t;)D.push(D.shift())}(++K);const j=function(t,n){return R[t-=127]},N=j(127),U={help(t){A(j(139))},clear(t){M().clear()},chat:async function(t){const n=O,e=t[0];if(""==e||!e)return void A(n(213));const s=M();s[n(211)](""),s[n(212)](),await T("Connecting to chat...",10),s[n(214)]();const i=await s.read("Username: ");s[n(211)](""),console[n(210)](i),await T(n(209)+i,10),s[n(214)](),s[n(208)]("> ")},connections(t){const n=j,e=M();e[n(135)](),e[n(132)](""),fetch(n(138))[n(137)]((t=>t[n(134)]())).then((async t=>{const s=n;await T("\nActive connections: "+t.data+"\n\n",12),e[s(133)](N)}))},exit(t){const n=j,e=M();e[n(132)](""),e[n(135)](),e[n(136)](),A(n(129)),setTimeout((()=>{const t=n;e.clear(),A(t(131))}),1e3),setTimeout((()=>{const t=n;e.clear(),A(t(128))}),2e3),setTimeout((()=>{const t=n;e.clear(),A("Bye. 0"),window[t(130)]()}),3e3)}},W=["\0\0\0\0","\n\n@@@@@@            .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     @@@@@@@@@@@@@@@      \n@@@@@@@@,               /@@@.                        @@@(                 \n@@@@  @@@@#             /@@@.                        @@@(                 \n@@@@    @@@@@@@@@       /@@@.     @@@@@@@@@@@&       @@@(                 \n@@@@      @@@@@         /@@@.                        @@@(                 \n(@@@        %           /@@@.                        @@@(                 \n  .@                    /@@@.     @@@@@@@@@@@@@      @@@@@@@@@@@@@@@/     \n\n\n","Starting Interface\0.\0.\0.","write",'\nCommand "',"addEventListener","submit","paste",'" not found.\n',"send","[OK]","getAsString","value","split"];var Y,q;Y=W,q=169,function(t){for(;--t;)Y.push(Y.shift())}(++q);const z=function(t,n){return W[t-=354]},F=z(354);let V=!0;setTimeout((async()=>{const t=z,n=M();await T(F,4),await L(200),await T("Starting up",24),await T("... ",250),await A(t(363)),await L(200),await T(t(355),24),await T(t(367),12);const e=function(){const t=I,n=new WebSocket(location[t(314)][t(320)](t(315),t(317))[t(320)](t(321),"ws"));return n.onopen=function(n){A(t(322)),T("\n"+N+"\t",0)},n.onmessage=function(n){const e=t;console.log(n);const s=e(312)+n[e(318)]+"\n";B.append(B[e(311)][1],s)},n}();n[t(358)](t(359),(async n=>{const s=t;if(V){const t=n[s(365)][s(366)](" ");""!=t[0]&&(U[t[0]]?(V=!1,await U[t[0]](t.slice(1)),V=!0):(e[s(362)](n.value),A(s(357)+t[0]+s(361))))}})),window[t(358)](t(360),(e=>{const s=t;e.clipboardData.items[0][s(364)]((t=>{n[s(356)](t)}))}))}),500)})();