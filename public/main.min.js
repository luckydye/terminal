(()=>{"use strict";const t=["dispatchEvent","value"," ~{}=<>^abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ()[]-.,_:;#+'*/&%$§!?€1234567890\"","getMaxBufferWidth","ArrowDown","fillStyle","ArrowRight","cancelInput","min","bind","ArrowUp","shadowBlur","getCursorPosition","deltaY","getContext","define","slice","(c) 2020 luckydye. All rights reserved.","ArrowLeft","shadowColor","newline","enableInput","Backspace","#99d0f7","shadowRoot","\n            :host {\n                display: block;\n                width: 100%;\n                height: 100%;\n            }\n            canvas {\n                filter: contrast(1.1) blur(.33px);\n                outline: none;\n            }\n        ","reformat","Enter","clientWidth","innerHTML","handleSubmit","Home","replaceInput","End","ctrlKey","canvas","appendChild","clear","drawCursor","textBaseline","none","font","measureText","draw","submit","now","open","fillText","stopPropagation","Terminal Version 1.0","textAlign","addEventListener","push","inputEnabled","append","parentNode","setBuffer","key","pushToHistory","connectedCallback","init","keydown","setPrefix","hideOutput","drawBuffer","max","setCursor","clearRect","top","shortcut","unshift","loop","prefix","cursor","length","join","indexOf","Escape","createElement","Delete","height","preventDefault","tabIndex","clientHeight","read","shiftKey","left","handleInput","write","split","resize","width"];var e,n;e=t,n=106,function(t){for(;--t;)e.push(e.shift())}(++n);const s=function(e,n){return t[e-=225]},i=s,o=[32,32],r=[1,0],a=i(234),c=i(305);let l,h,u=7.69,d=[i(260),i(228),""],f=[],p=[d[d.length-1][i(285)],d[i(285)]-1],w=[0,0],m="",g=!0,y=!1,x=[],v=-1;class b extends Event{constructor(t){const e=i;super(e(255)),this[e(304)]=t}}class C extends Event{constructor(t){const e=i;super(e(280)),this[e(268)]=t}}class E extends HTMLElement{get[i(274)](){return y}set hideOutput(t){y=t}get inputEnabled(){return g}set[i(264)](t){g=t}get[i(283)](){return m}set[i(283)](t){m=t}get[i(284)](){return p}constructor(){const t=i;super(),l=document[t(289)](t(246)),l[t(293)]=0,h=l.getContext("2d"),window[t(262)](t(301),(e=>{this[t(237)]()})),window[t(262)]("wheel",(e=>{const n=t,s=Math.sign(e[n(316)]),i=o[1]+12*p[1]+3*p[1],r=Math[n(276)](0,i-(l.height-45));w[1]=Math.max(0,Math[n(311)](r,w[1]+15*s))})),window.addEventListener(t(272),(e=>{this[t(298)](e)})),this.attachShadow({mode:t(257)})}[i(225)](){return h}[i(271)](){const t=i,e=document[t(289)]("style");e[t(240)]=t(236),this[t(235)].appendChild(e),this[t(235)][t(247)](l),this[t(282)]()}[i(270)](){!l[i(266)]&&this.init(),this.reformat()}[i(265)](t,e){const n=i,s=d[n(227)](0,t);s[n(263)](e),s.push(...d[n(227)](t)),p[1]>=t&&p[1]++,this[n(267)](s)}[i(267)](t){d=t}[i(248)](){d=[""],this.setCursor(0,0)}[i(277)](t,e){p[0]=null!=t?t:p[0],p[1]=null!=e?e:p[1]}[i(273)](t=""){this[i(283)]=t}disableInput(){this[i(264)]=!1}[i(232)](){this.inputEnabled=!0}[i(241)](t){const e=i;y?(t=f[e(286)](""),y=!1):t=t[e(227)](this.prefix[e(285)]),this[e(269)](t),this[e(303)](new b(t))}[i(269)](t){""!=t&&x[i(281)](t),v=-1}[i(310)](){const t=i;d[p[1]]=this.prefix,this[t(277)](d[p[1]][t(285)])}replaceInput(t){this[i(310)](),this.write(t)}[i(295)](t){return new Promise((e=>{const n=s,i=d[d[n(285)]-1];this[n(264)]=!0,this[n(283)]=t||i,t&&i!==t&&this.write(t);const o=t=>{const s=n;e(t[s(304)]),this.removeEventListener(s(255),o)};this[n(262)](n(255),o)}))}[i(231)](){const t=i,e=d[d[t(285)]-1];return d[t(263)](""),p[0]=""[t(285)],p[1]++,e}[i(299)](t){const e=i;switch(t){case"\0":break;case"\r":const n=this[e(231)]();this[e(241)](n);break;case"\n":this[e(231)]();break;default:const s=h[e(253)]("M");u=s[e(302)];const i=d[p[1]][e(300)]("")[e(227)](0,p[0]);y?(f[e(263)](t),i[e(263)](...new Array(t[e(285)]).fill("*"))):i[e(263)](t);const o=d[p[1]].split("")[e(227)](p[0]);i.push(...o),d[p[1]]=i.join(""),p[0]+=t[e(285)]}const n=o[1]+12*p[1]+3*p[1];w[1]=Math[e(276)](0,n-(l[e(291)]-45))}[i(298)](t){const e=i;let n=t[e(268)];t[e(296)];const s=t[e(245)];if(g){if(n==e(238)&&this[e(299)]("\r"),n==e(313)&&(v=Math[e(311)](v+1,x[e(285)]-1),x[v]&&this.replaceInput(x[v])),n==e(307)&&(v=Math.max(v-1,0),x[v]&&this[e(243)](x[v])),n==e(229)&&(p[0]=Math.max(p[0]-1,Math.max(m[e(285)],0))),n==e(309)&&(p[0]=Math[e(311)](p[0]+1,d[d[e(285)]-1][e(285)])),n==e(288)&&this.cancelInput(),n==e(244)&&(p[0]=d[d[e(285)]-1][e(285)]),n==e(242)&&(p[0]=Math[e(276)](m[e(285)],0)),n==e(233)&&p[0]>0&&p[0]>m[e(285)]){const t=d[d[e(285)]-1][e(300)]("").slice(0,p[0]-1),n=d[d.length-1].split("")[e(227)](p[0]);t[e(263)](...n),d[d.length-1]=t[e(286)](""),p[0]--}if(n==e(290)){const t=d[d[e(285)]-1].split("")[e(227)](0,p[0]),n=d[d.length-1][e(300)]("").slice(p[0]+1);t[e(263)](...n),d[d[e(285)]-1]=t[e(286)]("")}-1!=c[e(287)](n)&&!s&&this[e(299)](n)}s&&(t[e(292)](),t[e(259)](),this[e(303)](new C(n)),-1!=c.indexOf(n)&&this[e(303)](new b("^"+n)))}reformat(){const t=i;l[t(302)]=this[t(239)],l.height=this[t(294)]}[i(254)](t){const e=i;t[e(278)](0,0,t[e(246)][e(302)],t[e(246)][e(291)]),t[e(252)]="300 13px monospace",t[e(261)]=e(297),t[e(250)]=e(279),t[e(230)]=a,t[e(314)]=12,t.fillStyle=a,this[e(275)](),this[e(264)]&&this[e(249)](),t[e(230)]=e(251),t[e(314)]=0}drawCursor(){const t=i;if(Date[t(256)]()/500%2>1){const e=this[t(315)]();h[t(308)]=a,h.fillRect(e[0],e[1],6,16)}}[i(306)](){return l[i(302)]-2*o[0]}getCursorPosition(){const t=i,e=this[t(306)]();let n=1;for(let s=0;s<p[1];s++){const i=d[s];if(e-h[t(253)](i)[t(302)]<0){const t=I(i,e/u);for(let e of t)n++}else n++}const s=o[0]+p[0]*u,a=o[1]+12*n+3*n+6-8-w[1];return[s+r[0],a+r[1]]}[i(275)](){const t=i,e=this[t(306)]();let n=o[0],s=o[1];const r=e=>{const i=t;s+=15-w[1],h[i(258)](e,n,s)};for(let n of d)if(e-h[t(253)](n)[t(302)]<0){const t=I(n,e/u);for(let e of t)r(e)}else r(n)}loop(){const t=i;this.draw(h),requestAnimationFrame(this[t(282)][t(312)](this))}}function I(t,e){const n=i,s=[];for(t=t.split("");t[n(285)]>e;){const i=t.splice(0,e);s[n(263)](i.join(""))}return s[n(263)](t[n(286)]("")),s}customElements[i(226)]("gyro-terminal",E);const M=["https","type","append","data","disableInput","write","origin","length","http","onopen","cursor","split","left","onmessage","\nConnection established.","message","wss","replace","parse"," left the room.","username","createElement"];var L,k;L=M,k=399,function(t){for(;--t;)L.push(L.shift())}(++k);const P=function(t,e){return M[t-=335]},S=P,A=document[S(353)]("gyro-terminal");let O;function T(){return A}async function B(t,e=24){return new Promise((n=>{const s=P;A[s(336)]();let i=0;const o=setInterval((()=>{const e=s,r=t[i];A.write(r),i++,i==t[e(339)]&&(clearInterval(o),n())}),e)}))}function j(t){const e=S,n=t[e(343)]("\n");for(let t of n)A[e(337)](t),A[e(337)]("\n")}function D(t){return new Promise((e=>{setTimeout((()=>e()),t)}))}A[S(336)](),mainEle.appendChild(A);const H=["fillStyle","Connecting to chat...","Please provide a chat id to connect to","clear","stringify","prefix","newline","shortcut","Username: ","close","keys","join","cos","disableInput","chat","fillRect","now","addEventListener","getContext","send","read","setPrefix","toLocaleLowerCase"];var N,R;N=H,R=183,function(t){for(;--t;)N.push(N.shift())}(++R);const J=function(t,e){return H[t-=411]},K={help(t){j("\nNo help needed :)\n")},prefix(t){const e=J;j(T()[e(417)])},clear(t){const e=J;T()[e(415)]()},async run(t){console.log(t)},list(){const t=J;j("Commands: "+Object[t(422)](this)[t(423)](", "))},test:t=>new Promise((t=>{const e=J,n=T();let s=!0;n[e(425)](),n[e(429)](e(419),(e=>{"c"==e.key.toLocaleLowerCase()&&(s=!1,t())}));let i=0,o=0;const r=()=>{const t=e,a=n[t(430)](),c=performance[t(428)]()/100;i+=20*Math.sin(c),o+=5*Math[t(424)](c+c),a[t(412)]="red",a[t(427)](400+i,100+o,48,48),s&&requestAnimationFrame(r)};r()})),async chat(t){const e=J,n=O,s=t[0];if(""==s||!s)return void j(e(414));const i=T();i[e(433)](""),i[e(425)](),await B(e(413),10),i[e(418)](),i[e(418)]();const o=await i[e(432)](e(420));for(i.newline();;){const t=await i.read("> ");if(""!=t&&(n[e(431)](JSON[e(416)]({type:e(426),data:{username:escape(o),room:s,message:t}})),"^c"==t[e(411)]()))return n.send(JSON[e(416)]({type:"leave",data:{username:escape(o),room:s}})),1}},exit:t=>new Promise((t=>{const e=J,n=T();n[e(433)](""),n.disableInput(),n.clear(),j("Bye."),setTimeout((()=>window[e(421)]()),1e3)}))},W=["error","read","message","write","\n\n@@@@@@            .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     @@@@@@@@@@@@@@@      \n@@@@@@@@,               /@@@.                        @@@(                 \n@@@@  @@@@#             /@@@.                        @@@(                 \n@@@@    @@@@@@@@@       /@@@.     @@@@@@@@@@@&       @@@(                 \n@@@@      @@@@@         /@@@.                        @@@(                 \n(@@@        %           /@@@.                        @@@(                 \n  .@                    /@@@.     @@@@@@@@@@@@@      @@@@@@@@@@@@@@@/     \n\n","split","\n[Internal Error]: ",'\nCommand "',"catch",'" not found.\n',"terminal@52.59.209.57:~$ ","getAsString","Starting up","paste","addEventListener","\nProcess exited.\n","items","... ","Connecting to Interface\0.\0.\0.","clipboardData"];var q,F;q=W,F=380,function(t){for(;--t;)q.push(q.shift())}(++F);const U=function(t,e){return W[t-=215]},z=U(219),V=U(225);let Y=null;setTimeout((async()=>{const t=U,e=T();async function n(n){const s=t;if(""!=n[0])if(K[n[0]]){Y=!1;const t=await K[n[0]](n.slice(1));0!==t&&null!=t&&j(s(230)),e[s(216)](V),Y=!0}else j(s(222)+n[0]+s(224))}await j(z),await D(200),await B(t(227),12),await B(t(232),250),await j("[OK]"),await j("\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s\n"),await D(200),await B(t(233),24),await B("\0\0\0\0",12),function(t=(()=>{})){const e=S;O=new WebSocket(location[e(338)][e(349)](e(354),e(348))[e(349)](e(340),"ws")),O[e(341)]=function(n){j(e(346)),t()},O[e(345)]=function(t){const n=e,s=JSON[n(350)](t[n(335)]);if(s[n(355)]==n(347)){const t=s[n(335)][n(352)]+": "+s[n(335)].text;A[n(356)](A[n(342)][1],t)}if(s[n(355)]==n(344)){const t=s.data[n(352)]+n(351);A[n(356)](A.cursor[1],t)}}}((async()=>{const s=t;for(j("");;){const t=(await e[s(216)](V))[s(220)](" ");await n(t)[s(223)]((t=>{const e=s;console[e(215)](t),j(e(221)+t[e(217)]+"\n")}))}})),window[t(229)](t(228),(n=>{const s=t;n[s(234)][s(231)][0][s(226)]((t=>{e[s(218)](t)}))}))}),500)})();