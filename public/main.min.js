(()=>{"use strict";const t=["prefix","draw","wheel","indexOf","keydown","ArrowUp","createElement","disableInput","Enter","textBaseline","write","max","init","slice","setPrefix"," ~{}=<>^abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ()[]-.,_:;#+'*/&%$§!?€1234567890\"","\n            :host {\n                display: block;\n                width: 100%;\n                height: 100%;\n            }\n            canvas {\n                filter: contrast(1.1) blur(.33px);\n                outline: none;\n            }\n        ","getCursorPosition","hideOutput","height","handleSubmit","drawCursor","handleInput","tabIndex","parentNode","(c) 2020 luckydye. All rights reserved.","dispatchEvent","cursor","loop","canvas","push","Backspace","clientHeight","replaceInput","innerHTML","#99d0f7","fill","join","cancelInput","addEventListener","none","ArrowLeft","stopPropagation","sign","min","now","drawBuffer","enableInput","resize","shiftKey","pushToHistory","shortcut","key","Delete","appendChild","submit","setCursor","gyro-terminal","value","read","clear","open","shadowColor","bind","inputEnabled","split","measureText","newline","define","length","attachShadow","fillRect","clearRect","clientWidth","textAlign","px monospace","preventDefault","shadowRoot","setBuffer","reformat","ArrowDown","style","font"];var n,e;n=t,e=465,function(t){for(;--t;)n.push(n.shift())}(++e);const s=function(n,e){return t[n-=399]},o=s,i=[32,32],r=[1,0],a=o(467),c=o(447);let l,h,u=7.69,d=["Terminal Version 1.0",o(457),""],f=[],p=[d[d[o(418)]-1][o(418)],d[o(418)]-1],w=[0,0],m="",g=!0,x=!1,v=[],b=-1;class y extends Event{constructor(t){super(o(404)),this.value=t}}class E extends Event{constructor(t){const n=o;super(n(400)),this[n(401)]=t}}class C extends HTMLElement{get[o(450)](){return x}set[o(450)](t){x=t}get inputEnabled(){return g}set[o(413)](t){g=t}get[o(432)](){return m}set[o(432)](t){m=t}get[o(459)](){return p}constructor(){const t=o;super(),l=document[t(438)](t(461)),l[t(455)]=0,h=l.getContext("2d"),window[t(471)](t(480),(n=>{this[t(428)]()})),window[t(471)](t(434),(n=>{const e=t,s=Math[e(475)](n.deltaY),o=i[1]+12*p[1]+3*p[1],r=Math[e(443)](0,o-(l.height-45));w[1]=Math[e(443)](0,Math[e(476)](r,w[1]+15*s))})),window[t(471)](t(436),(t=>{this.handleInput(t)})),this[t(419)]({mode:t(410)})}getContext(){return h}[o(444)](){const t=o,n=document[t(438)](t(430));n[t(466)]=t(448),this[t(426)][t(403)](n),this[t(426)][t(403)](l),this.loop()}connectedCallback(){const t=o;!l[t(456)]&&this.init(),this[t(428)]()}append(t,n){const e=o,s=d[e(445)](0,t);s[e(462)](n),s[e(462)](...d[e(445)](t)),p[1]>=t&&p[1]++,this[e(427)](s)}setBuffer(t){d=t}[o(409)](){d=[""],this[o(405)](0,0)}setCursor(t,n){p[0]=null!=t?t:p[0],p[1]=null!=n?n:p[1]}[o(446)](t=""){this[o(432)]=t}[o(439)](){this[o(413)]=!1}[o(479)](){this.inputEnabled=!0}[o(452)](t){const n=o;x?(t=f[n(469)](""),x=!1):t=t.slice(this[n(432)][n(418)]),this[n(399)](t),this[n(458)](new y(t))}[o(399)](t){""!=t&&v.unshift(t),b=-1}[o(470)](){const t=o;d[p[1]]=this.prefix,this[t(405)](d[p[1]][t(418)])}[o(465)](t){const n=o;this[n(470)](),this[n(442)](t)}[o(408)](t){return new Promise((n=>{const e=s,o=d[d[e(418)]-1];this[e(413)]=!0,this.prefix=t||o,t&&o!==t&&this[e(442)](t);const i=t=>{const s=e;n(t[s(407)]),this.removeEventListener(s(404),i)};this[e(471)](e(404),i)}))}[o(416)](){const t=o,n=d[d[t(418)]-1];return d[t(462)](""),p[0]="".length,p[1]++,n}[o(442)](t){const n=o;switch(t){case"\0":break;case"\r":const e=this.newline();this.handleSubmit(e);break;case"\n":this.newline();break;default:const s=h[n(415)]("M");u=s.width;const o=d[p[1]][n(414)]("")[n(445)](0,p[0]);x?(f[n(462)](t),o[n(462)](...new Array(t[n(418)])[n(468)]("*"))):o[n(462)](t);const i=d[p[1]][n(414)]("")[n(445)](p[0]);o[n(462)](...i),d[p[1]]=o[n(469)](""),p[0]+=t[n(418)]}const e=i[1]+12*p[1]+3*p[1];w[1]=Math[n(443)](0,e-(l.height-45))}[o(454)](t){const n=o;if(!g)return;let e=t[n(401)];t[n(481)];const s=t.ctrlKey;if(e==n(440)&&this[n(442)]("\r"),e==n(437)&&(b=Math.min(b+1,v[n(418)]-1),v[b]&&this[n(465)](v[b])),e==n(429)&&(b=Math.max(b-1,0),v[b]&&this.replaceInput(v[b])),e==n(473)&&(p[0]=Math[n(443)](p[0]-1,Math.max(m[n(418)],0))),"ArrowRight"==e&&(p[0]=Math[n(476)](p[0]+1,d[d[n(418)]-1][n(418)])),"Escape"==e&&this[n(470)](),"End"==e&&(p[0]=d[d[n(418)]-1].length),"Home"==e&&(p[0]=Math.max(m[n(418)],0)),e==n(463)&&p[0]>0&&p[0]>m.length){const t=d[d[n(418)]-1][n(414)]("").slice(0,p[0]-1),e=d[d[n(418)]-1][n(414)]("")[n(445)](p[0]);t[n(462)](...e),d[d[n(418)]-1]=t[n(469)](""),p[0]--}if(e==n(402)){const t=d[d[n(418)]-1][n(414)]("").slice(0,p[0]),e=d[d[n(418)]-1][n(414)]("")[n(445)](p[0]+1);t[n(462)](...e),d[d[n(418)]-1]=t[n(469)]("")}-1!=c[n(435)](e)&&!s&&this[n(442)](e),s&&(t[n(425)](),t[n(474)](),this[n(458)](new E(e)),-1!=c[n(435)](e)&&this[n(458)](new y("^"+e)))}reformat(){const t=o;l.width=this[t(422)],l[t(451)]=this[t(464)]}[o(433)](t){const n=o;t[n(421)](0,0,t[n(461)].width,t.canvas.height),t[n(431)]="300 13"+n(424),t[n(423)]="left",t[n(441)]="top",t[n(411)]=a,t.shadowBlur=12,t.fillStyle=a,this[n(478)](),this.inputEnabled&&this.drawCursor(),t.shadowColor=n(472),t.shadowBlur=0}[o(453)](){const t=o;if(Date[t(477)]()/500%2>1){const n=this[t(449)]();h.fillStyle=a,h[t(420)](n[0],n[1],6,16)}}[o(449)](){const t=i[0]+p[0]*u,n=i[1]+12*p[1]+3*p[1]+6-8-w[1];return[t+r[0],n+r[1]]}[o(478)](){let t=0;for(let n of d){const e=i[0],s=i[1]+12*t+3*t-w[1];h.fillText(n,e,s),t++}}[o(460)](){const t=o;this[t(433)](h),requestAnimationFrame(this[t(460)][t(412)](this))}}customElements[o(417)](o(406),C);const I=["onopen","length","gyro-terminal","User: ","disableInput","http","\nConnection established.","cursor","split","write","data","origin","onmessage","replace"];var M,k;M=I,k=139,function(t){for(;--t;)M.push(M.shift())}(++k);const A=function(t,n){return I[t-=152]},P=A,L=document.createElement(P(155));let S;function T(){return L}async function B(t,n=24){return new Promise((e=>{const s=A;L[s(157)]();let o=0;const i=setInterval((()=>{const n=s,r=t[o];L[n(162)](r),o++,o==t[n(154)]&&(clearInterval(i),e())}),n)}))}function D(t){const n=P,e=t[n(161)]("\n");for(let t of e)L[n(162)](t),L[n(162)]("\n")}function H(t){return new Promise((n=>{setTimeout((()=>n()),t)}))}L[P(157)](),mainEle.appendChild(L);const R=["clear","then","red","read","data","Connecting to chat...","setPrefix","disableInput","log","fillStyle","close","Username: ","addEventListener","newline","prefix","/connections","fillRect","\nNo help needed :)\n","json","key","Please provide a chat id to connect to","Bye."];var K,O;K=R,O=112,function(t){for(;--t;)K.push(K.shift())}(++O);const U=function(t,n){return R[t-=193]},j={help(t){D(U(208))},prefix(t){const n=U;D(T()[n(205)])},clear(t){T().clear()},test:t=>new Promise((t=>{const n=U,e=T();let s=!0;e[n(198)](),e[n(203)]("shortcut",(e=>{"c"==e[n(210)]&&(s=!1,t())}));const o=()=>{const t=n,i=e.getContext();i[t(200)]=t(193),i[t(207)](100,100,100,100),s&&requestAnimationFrame(o)};o()})),async chat(t){const n=U,e=t[0];if(""==e||!e)return void D(n(211));const s=T();for(s[n(197)](""),s[n(198)](),await B(n(196),10),s[n(204)](),s[n(204)](),await s[n(194)](n(202)),s[n(204)]();;){const t=await s[n(194)]("> ");if(console[n(199)](t),"^c"==t.toLocaleLowerCase())return 1}},connections(t){const n=U,e=T();e[n(198)](),e[n(197)](""),fetch(n(206))[n(214)]((t=>t[n(209)]()))[n(214)]((async t=>{const e=n;await B("\nActive connections: "+t[e(195)]+"\n\n",12)}))},exit:t=>new Promise((t=>{const n=U,e=T();e[n(197)](""),e.disableInput(),e[n(213)](),D(n(212)),setTimeout((()=>window[n(201)]()),1e3)}))},q=["terminal@52.59.209.57:~$ ",'" not found.\n',"paste","send","getAsString","read","\0\0\0\0","[OK]",'\nCommand "',"catch","items","error","message","Connecting to Interface\0.\0.\0.","clipboardData","addEventListener","Starting up","slice","\nProcess exited.\n"];var F,N;F=q,N=282,function(t){for(;--t;)F.push(F.shift())}(++N);const W=function(t,n){return q[t-=291]},z=W(294);let V=null;setTimeout((async()=>{const t=W,n=T();await D("\n\n@@@@@@            .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     @@@@@@@@@@@@@@@      \n@@@@@@@@,               /@@@.                        @@@(                 \n@@@@  @@@@#             /@@@.                        @@@(                 \n@@@@    @@@@@@@@@       /@@@.     @@@@@@@@@@@&       @@@(                 \n@@@@      @@@@@         /@@@.                        @@@(                 \n(@@@        %           /@@@.                        @@@(                 \n  .@                    /@@@.     @@@@@@@@@@@@@      @@@@@@@@@@@@@@@/     \n\n"),await H(200),await B(t(291),12),await B("... ",250),await D(t(301)),await H(200),await B(t(307),24),await B(t(300),12);const e=function(t=(()=>{})){const n=P;return S=new WebSocket(location[n(164)][n(152)]("https","wss")[n(152)](n(158),"ws")),S[n(153)]=function(e){D(n(159)),t()},S[n(165)]=function(t){const e=n;console.log(t);const s=e(156)+t[e(163)]+"\n";L.append(L[e(160)][1],s)},S}((async()=>{const e=t;for(D("");;){const t=(await n[e(299)](z)).split(" ");await s(t)[e(303)]((t=>{const n=e;console[n(305)](t),D("\n[Internal Error]: "+t[n(306)]+"\n")}))}}));async function s(s){const o=t;if(""!=s[0])if(j[s[0]]){V=!1;const t=await j[s[0]](s[o(292)](1));0!==t&&null!=t&&D(o(293)),n[o(299)](z),V=!0}else e[o(297)](s),D(o(302)+s[0]+o(295))}window[t(309)](t(296),(e=>{const s=t;e[s(308)][s(304)][0][s(298)]((t=>{n.write(t)}))}))}),500)})();