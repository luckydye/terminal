(()=>{"use strict";const t=["deltaY","appendChild","px monospace","createElement","preventDefault","clearRect","resize","clientWidth","fillText","width","read","bind","font","(c) 2020 luckydye. All rights reserved.","\n            :host {\n                display: block;\n                width: 100%;\n                height: 100%;\n            }\n            canvas {\n                filter: contrast(1.1) blur(.33px);\n            }\n        ","shiftKey","join","dispatchEvent","keydown","getContext","ArrowRight","Terminal Version 1.0","reformat","setPrefix","parentNode","connectedCallback","addEventListener"," ~{}=<>^abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ()[]-.,_:;#+'*/&%$§!?€1234567890\"","Backspace","setBuffer","prefix","fillStyle","handleSubmit","drawCursor","append","Enter","shortcut","draw","gyro-terminal","drawBuffer","fillRect","height","shadowColor","sign","submit","open","enableInput","setCursor","min","now","max","removeEventListener","clientHeight","ArrowLeft","loop","left","split","slice","init","value","newline","key","length","disableInput","indexOf","define","push","End","write","shadowRoot","handleInput","inputEnabled","hideOutput","Delete","Home"];var e,n;e=t,n=134,function(t){for(;--t;)e.push(e.shift())}(++n);const s=function(e,n){return t[e-=145]},i=s,o=[32,32],r=[1,0],a="#99d0f7",c=i(188);let l,h,u=7.69,d=[i(182),i(174),""],f=[],w=[d[d.length-1][i(148)],d.length-1],p=[0,0],m="",g=!0,v=!1;class x extends Event{constructor(t){super(i(205)),this.value=t}}class y extends Event{constructor(t){const e=i;super(e(197)),this[e(147)]=t}}class b extends HTMLElement{get hideOutput(){return v}set[i(158)](t){v=t}get[i(157)](){return g}set[i(157)](t){g=t}get[i(191)](){return m}set[i(191)](t){m=t}get cursor(){return w}constructor(){const t=i;super(),l=document[t(164)]("canvas"),h=l[t(180)]("2d"),window[t(187)](t(167),(e=>{this[t(183)]()})),window.addEventListener("wheel",(e=>{const n=t,s=Math[n(204)](e[n(161)]),i=o[1]+12*w[1]+3*w[1],r=Math[n(211)](0,i-(l[n(202)]-45));p[1]=Math[n(211)](0,Math[n(209)](r,p[1]+15*s))})),window[t(187)](t(179),(e=>{this[t(156)](e)})),this.attachShadow({mode:t(206)})}init(){const t=i,e=document[t(164)]("style");e.innerHTML=t(175),this[t(155)][t(162)](e),this.shadowRoot[t(162)](l),this[t(215)]()}[i(186)](){const t=i;!l[t(185)]&&this[t(219)](),this[t(183)]()}[i(195)](t,e){const n=i,s=d[n(218)](0,t);s.push(e),s[n(152)](...d.slice(t)),w[1]>=t&&w[1]++,this[n(190)](s)}[i(190)](t){d=t}clear(){d=[""],this[i(208)](0,0)}[i(208)](t,e){w[0]=null!=t?t:w[0],w[1]=null!=e?e:w[1]}[i(184)](t=""){this.prefix=t}[i(149)](){this[i(157)]=!1}[i(207)](){this.inputEnabled=!0}[i(193)](t){const e=i;v?(t=f[e(177)](""),v=!1):t=t[e(218)](this[e(191)][e(148)]),this[e(178)](new x(t)),this.write(this[e(191)])}[i(171)](t){return new Promise((e=>{const n=s,i=d[d[n(148)]-1];this[n(157)]=!0,this.prefix=t||i,t&&i!==t&&this.write(t);const o=t=>{const s=n;e(t[s(145)]),this[s(212)](s(205),o)};this.addEventListener(n(205),o)}))}[i(146)](){const t=i,e=d[d[t(148)]-1];return d.push(""),w[0]=""[t(148)],w[1]++,e}[i(154)](t){const e=i;switch(t){case"\0":break;case"\r":const n=this[e(146)]();this[e(193)](n);break;case"\n":this.newline();break;default:const s=h.measureText("M");u=s[e(170)];const i=d[w[1]].split("").slice(0,w[0]);v?(f[e(152)](t),i[e(152)](...new Array(t[e(148)]).fill("*"))):i[e(152)](t);const o=d[w[1]][e(217)]("")[e(218)](w[0]);i[e(152)](...o),d[w[1]]=i[e(177)](""),w[0]+=t[e(148)]}const n=o[1]+12*w[1]+3*w[1];p[1]=Math[e(211)](0,n-(l[e(202)]-45))}[i(156)](t){const e=i;if(!g)return;let n=t[e(147)];t[e(176)];const s=t.ctrlKey;if(n==e(196)&&this.write("\r"),n==e(214)&&(w[0]=Math[e(211)](w[0]-1,Math[e(211)](m[e(148)],0))),n==e(181)&&(w[0]=Math[e(209)](w[0]+1,d[d.length-1][e(148)])),n==e(153)&&(w[0]=d[d[e(148)]-1][e(148)]),n==e(160)&&(w[0]=Math[e(211)](m[e(148)],0)),n==e(189)&&w[0]>0&&w[0]>m[e(148)]){const t=d[d[e(148)]-1][e(217)]("")[e(218)](0,w[0]-1),n=d[d[e(148)]-1][e(217)]("")[e(218)](w[0]);t.push(...n),d[d.length-1]=t[e(177)](""),w[0]--}if(n==e(159)){const t=d[d[e(148)]-1][e(217)]("")[e(218)](0,w[0]),n=d[d.length-1][e(217)]("")[e(218)](w[0]+1);t.push(...n),d[d.length-1]=t[e(177)]("")}-1!=c.indexOf(n)&&!s&&this[e(154)](n),s&&(t[e(165)](),t.stopPropagation(),this[e(178)](new y(n)),-1!=c[e(150)](n)&&this[e(178)](new x("^"+n)))}[i(183)](){const t=i;l.width=this[t(168)],l.height=this[t(213)]}[i(198)](t){const e=i;t[e(166)](0,0,t.canvas[e(170)],t.canvas[e(202)]),t[e(173)]="300 13"+e(163),t.textAlign=e(216),t.textBaseline="top",t[e(203)]=a,t.shadowBlur=12,t[e(192)]=a,this.drawBuffer(),g&&this[e(194)]()}[i(194)](){const t=i;if(Date[t(210)]()/500%2>1){const e=o[0]+w[0]*u,n=o[1]+12*w[1]+3*w[1]+6-8-p[1];h.fillStyle=a,h[t(201)](e+r[0],n+r[1],6,16)}}[i(200)](){const t=i;let e=0;for(let n of d){const s=o[0],i=o[1]+12*e+3*e-p[1];h[t(169)](n,s,i),e++}}loop(){const t=i;this[t(198)](h),requestAnimationFrame(this[t(215)][t(172)](this))}}customElements[i(151)](i(199),b);const E=["User: ","cursor","gyro-terminal","length","data","write","origin","wss","http","onmessage","disableInput","split","createElement","onopen","replace","appendChild","append"];var C,M;C=E,M=292,function(t){for(;--t;)C.push(C.shift())}(++M);const k=function(t,e){return E[t-=403]},B=k,L=document[B(412)](B(419));function T(){return L}async function P(t,e=24){return new Promise((n=>{const s=k;L[s(410)]();let i=0;const o=setInterval((()=>{const e=s,r=t[i];L.write(r),i++,i==t[e(403)]&&(clearInterval(o),n())}),e)}))}function A(t){const e=B,n=t[e(411)]("\n");for(let t of n)L[e(405)](t),L[e(405)]("\n")}function I(t){return new Promise((e=>{setTimeout((()=>e()),t)}))}L[B(410)](),mainEle[B(415)](L);const S=["Bye. 1","close","then","/connections","Bye. 0","newline","Bye. 3","\nNo help needed :)\n","json","\n__","clear","Your username: ","disableInput","toLocaleLowerCase","Please provide a chat id to connect to","Bye. 2","prefix","Username: ","setPrefix","read"];var O,R;O=S,R=389,function(t){for(;--t;)O.push(O.shift())}(++R);const D=function(t,e){return S[t-=444]},H={help(t){A(D(462))},prefix(t){const e=D;A(T()[e(451)])},clear(t){const e=D;T()[e(445)]()},async chat(t){const e=D,n=t[0];if(""==n||!n)return void A(e(449));const s=T();s[e(453)](""),s[e(447)](),await P("Connecting to chat...",10),s.newline(),s.newline(),s[e(453)]("");const i=await s.read(e(452));for(A(e(444)),s[e(453)](""),await P(e(446)+i,10),s[e(460)]();;)if("^c"==(await s[e(454)]("> "))[e(448)]())return 1},connections(t){const e=D,n=T();n[e(447)](),n[e(453)](""),fetch(e(458))[e(457)]((t=>t[e(463)]())).then((async t=>{await P("\nActive connections: "+t.data+"\n\n",12)}))},exit(t){const e=D,n=T();n.setPrefix(""),n[e(447)](),n[e(445)](),A(e(461)),setTimeout((()=>{const t=e;n.clear(),A(t(450))}),1e3),setTimeout((()=>{const t=e;n[t(445)](),A(t(455))}),2e3),setTimeout((()=>{const t=e;n[t(445)](),A(t(459)),window[t(456)]()}),3e3)}},K=["getAsString","[OK]","slice","Connecting to Interface\0.\0.\0.","write","send","terminal@52.59.209.57:~$ ","split","\0\0\0\0","\n\n@@@@@@            .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     @@@@@@@@@@@@@@@      \n@@@@@@@@,               /@@@.                        @@@(                 \n@@@@  @@@@#             /@@@.                        @@@(                 \n@@@@    @@@@@@@@@       /@@@.     @@@@@@@@@@@&       @@@(                 \n@@@@      @@@@@         /@@@.                        @@@(                 \n(@@@        %           /@@@.                        @@@(                 \n  .@                    /@@@.     @@@@@@@@@@@@@      @@@@@@@@@@@@@@@/     \n\n","... ","value","\nProcess exited.\n","addEventListener","submit","Starting up","clipboardData",'\nCommand "',"paste"];var j,N;j=K,N=256,function(t){for(;--t;)j.push(j.shift())}(++N);const U=function(t,e){return K[t-=229]},W=U(229),Y=U(245);let _=!0;setTimeout((async()=>{const t=U,e=T();await A(W),await I(200),await P(t(235),12),await P(t(230),250),await A(t(240)),await I(200),await P(t(242),24),await P(t(247),12);const n=function(t=(()=>{})){const e=B,n=new WebSocket(location[e(406)][e(414)]("https",e(407)).replace(e(408),"ws"));return n[e(413)]=function(e){A("\nConnection established."),t()},n[e(409)]=function(t){const n=e;console.log(t);const s=n(417)+t[n(404)]+"\n";L[n(416)](L[n(418)][1],s)},n}((()=>{A(""),e.read(Y)}));e[t(233)](t(234),(async s=>{const i=t;if(_){const t=s[i(231)][i(246)](" ");if(""!=t[0])if(H[t[0]]){_=!1;const n=await H[t[0]](t[i(241)](1));0!==n&&null!=n&&A(i(232)),e.read(Y),_=!0}else n[i(244)](s[i(231)]),A(i(237)+t[0]+'" not found.\n')}})),window[t(233)](t(238),(n=>{const s=t;n[s(236)].items[0][s(239)]((t=>{e[s(243)](t)}))}))}),500)})();