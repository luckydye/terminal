(()=>{var t={384:(t,e,n)=>{t=n.nmd(t);const s=["Bearer ","https://id.twitch.tv/oauth2/token?client_id=","cursor","https://api.twitch.tv/helix/users/follows?to_id=","https://api.twitch.tv/helix/users?login=","exports","twitch_client_secret",") [","&first=100","assign","access_token","User not found","authorizing...","https://clips-media-assets2.twitch.tv/",".mp4"," of "," is following (","POST","pagination","&grant_type=client_credentials&scope="," followers,","twitch_client_id","followed_at","json","&after=","%] are also in ","data","toFixed","length","from_name","push","https://api.twitch.tv/helix/streams?user_login=","-offset-","display_name","print","then"," / ","https://api.twitch.tv/helix/users/follows?from_id=","from_id"];var i,o;i=s,o=312,function(t){for(;--t;)i.push(i.shift())}(++o);const a=function(t,e){return s[t-=402]},r=a,c=localStorage[r(423)],l=localStorage[r(408)];let u,h=null;function d(){const t=r;u.print(t(414));const e=t(403)+c+"&client_secret="+l+t(421);return fetch(e,{method:t(419)})[t(437)]((e=>e[t(425)]()))[t(437)]((t=>h=t))}async function f(t,e={}){const n=r,s=Object[n(411)]({headers:{"Content-Type":"application/json",Authorization:n(402)+h[n(412)],"Client-ID":c}},e);return await fetch(t,s)[n(437)]((t=>t[n(425)]()))}async function p(t){const e=r;return!h&&await d(),f(e(406)+t)[e(437)]((t=>{const n=e;if(0==t[n(428)][n(430)])throw new Error(n(413));return t}))}async function w(t){const e=r,n=(await p(t))[e(428)][0],s=[];return u.print("Fethcing "+t+e(422)),await async function t(i){const o=e,a=await async function(t){const s=e;let i=s(405)+n.id+s(410);return t&&(i+="&after="+t),await f(i)}(i);u[o(436)](s[o(430)]+o(438)+a.total),s.push(...a[o(428)]),a[o(420)][o(404)]&&await t(a.pagination[o(404)])}(),s}t[r(407)]={setConsole:function(t){u=t},getUserByLogin:p,getUserFollowers:async function(t){const e=r,n=(await p(t)).data[0],s=[];await async function t(e){const i=a,o=await async function(t){const e=a;let s=e(439)+n.id+"&first=100";return t&&(s+=e(426)+t),await f(s)}(e);s[i(432)](...o.data),o[i(420)].cursor&&await t(o[i(420)][i(404)])}(),u.print(n[e(435)]+e(418)+s.length+"):");for(let t of s)u[e(436)](t[e(424)]+", "+t.to_name)},getChannelViewerOverlap:async function(t,e){const n=r;u[n(436)]("Getting channel follower overlap of "+t+" and "+e);const s=await w(t),i=await w(e),o={};let a=0;for(let t of s)o[t[n(440)]]=0;for(let t of i)null!=o[t[n(440)]]&&(a++,o[t[n(440)]]=1),o[t[n(440)]]=0;return u.print(a+n(417)+t+"("+s.length+n(409)+(a/s[n(430)]*100)[n(429)](3)+n(427)+e),a/s[n(430)]*100},getStreamsByUser:async function(t){const e=r;return!h&&await d(),f(e(433)+t)[e(437)]((async t=>t[e(428)][0]))},queryClipsByStreamId:async function(t){const e=r;let n=0;for(;n<5910;){n++;const s=e(415)+t+e(434)+n+e(416);await fetch(s)[e(437)]((t=>{u[e(436)](s,t.status)}))}return t},getVODsByUser:async function(t){const e=r;return!h&&await d(),f("https://api.twitch.tv/helix/videos?user_id="+(await p(t))[e(428)][0].id+"&type=archive&first=100")[e(437)]((async t=>t.data))},getChannelAllFollowers:async function(t){const e=r;u.print("Getting channel followers...");const n=await w(t);for(let t of n)u[e(436)](t.followed_at+", "+t[e(431)])}}}},e={};function n(s){if(e[s])return e[s].exports;var i=e[s]={id:s,loaded:!1,exports:{}};return t[s](i,i.exports,n),i.loaded=!0,i.exports}n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";const t=["setBuffer","ArrowRight","gyro-terminal","push","cursor","submit","stopPropagation","tabIndex","top","drawBuffer","shadowBlur","newline","key","indexOf","max","getMaxBufferWidth","disableLineWrapping","open","canvas","fillStyle","End","none","length","defaultPrevented","handleInput","disableInput","min","setCursor","unshift","append","getCursorPosition","_defaultPrevented","sign","ArrowLeft","prefix","fill","addEventListener","bind","hideOutput","font","px monospace","Delete","height","write","style","measureText","textBaseline","left","read","draw","wheel","Home","drawCursor","#99d0f7","shadowRoot","preventDefault","dispatchEvent","\n            :host {\n                display: block;\n                width: 100%;\n                height: 100%;\n            }\n            canvas {\n                filter: contrast(1.1) blur(.33px);\n                outline: none;\n            }\n        ","slice","value","join","connectedCallback","appendChild","getContext","clientHeight","Escape","handleSubmit","Enter","deltaY","ArrowDown","shiftKey","attachShadow","clearRect","Terminal Version 1.0","(c) 2020 luckydye. All rights reserved.","ctrlKey","replaceInput"," ~{}=<>^abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ()[]-.,_:;#+'*/&%$§!?€1234567890\"","cancelInput","loop","width","createElement","inputEnabled","clear","reformat","removeEventListener","pushToHistory","shadowColor","innerHTML","split","fillText"];var e,s;e=t,s=172,function(t){for(;--t;)e.push(e.shift())}(++s);const i=function(e,n){return t[e-=140]},o=i,a=[32,32],r=[1,0],c=o(203),l=o(227);let u,h,d=!0,f=7.69,p=[o(223),o(224),""],w=[],m=[p[p[o(172)]-1][o(172)],p[o(172)]-1],g=[0,0],y="",v=!0,x=!1,M=[],b=-1;class C extends Event{constructor(t){const e=o;super("submit"),this[e(209)]=t}}class I extends Event{get[o(173)](){return this[o(181)]}set[o(173)](t){this[o(181)]=t}constructor(t){const e=o;super("shortcut"),this[e(162)]=t,this[e(181)]=!1}}class E extends HTMLElement{get[o(188)](){return x}set hideOutput(t){x=t}get[o(141)](){return v}set[o(141)](t){v=t}get[o(184)](){return y}set[o(184)](t){y=t}get[o(154)](){return m}constructor(){const t=o;super(),u=document[t(140)]("canvas"),u[t(157)]=0,h=u[t(213)]("2d"),window[t(186)]("resize",(e=>{this[t(143)]()})),window[t(186)](t(200),(e=>{const n=t,s=Math[n(182)](e[n(218)]),i=this[n(180)]()[1],o=Math.max(0,i-(u[n(192)]-45));g[1]=Math.max(0,Math.min(o,g[1]+15*s))})),window[t(186)]("keydown",(t=>{this.handleInput(t)})),this[t(221)]({mode:t(167)})}[o(213)](){return h}init(){const t=o,e=document[t(140)](t(194));e[t(147)]=t(207),this[t(204)].appendChild(e),this[t(204)][t(212)](u),this[t(229)]()}[o(211)](){!u.parentNode&&this.init(),this.reformat()}[o(179)](t,e){const n=o,s=p[n(208)](0,t);s.push(e),s.push(...p.slice(t)),m[1]>=t&&m[1]++,this[n(150)](s)}[o(150)](t){p=t}[o(142)](){p=[""],this[o(177)](0,0)}[o(177)](t,e){m[0]=null!=t?t:m[0],m[1]=null!=e?e:m[1]}setPrefix(t=""){this[o(184)]=t}[o(175)](){this.inputEnabled=!1}enableInput(){this[o(141)]=!0}[o(166)](){d=!1}enableLineWrapping(){d=!0}[o(216)](t){const e=o;x?(t=w[e(210)](""),x=!1):t=t.slice(this.prefix[e(172)]),this[e(145)](t),this[e(206)](new C(t))}[o(145)](t){""!=t&&M[o(178)](t),b=-1}[o(228)](){const t=o;p[m[1]]=this[t(184)],this[t(177)](p[m[1]][t(172)])}[o(226)](t){const e=o;this[e(228)](),this[e(193)](t)}[o(198)](t){return new Promise((e=>{const n=i,s=p[p[n(172)]-1];this[n(141)]=!0,this[n(184)]=t||s,t&&s!==t&&this[n(193)](t);const o=t=>{const s=n;e(t[s(209)]),this[s(144)](s(155),o)};this[n(186)]("submit",o)}))}newline(){const t=o,e=p[p.length-1];return p[t(153)](""),m[0]=""[t(172)],m[1]++,e}[o(193)](t){const e=o;switch(t){case"\0":break;case"\r":const n=this[e(161)]();this[e(216)](n);break;case"\n":this[e(161)]();break;default:const s=p[m[1]][e(148)]("").slice(0,m[0]);x?(w[e(153)](t),s[e(153)](...new Array(t[e(172)])[e(185)]("*"))):s.push(t);const i=p[m[1]].split("")[e(208)](m[0]);s[e(153)](...i),p[m[1]]=s.join(""),m[0]+=t[e(172)]}const n=this.getCursorPosition()[1];g[1]=Math.max(0,n-(u[e(192)]-45))}[o(174)](t){const e=o;let n=t.key;t[e(220)];const s=t[e(225)];if(v){if(n==e(217)&&this[e(193)]("\r"),"ArrowUp"==n&&(b=Math[e(176)](b+1,M[e(172)]-1),M[b]&&this[e(226)](M[b])),n==e(219)&&(b=Math[e(164)](b-1,0),M[b]&&this.replaceInput(M[b])),n==e(183)&&(m[0]=Math.max(m[0]-1,Math[e(164)](y[e(172)],0))),n==e(151)&&(m[0]=Math[e(176)](m[0]+1,p[p[e(172)]-1][e(172)])),n==e(215)&&this.cancelInput(),n==e(170)&&(m[0]=p[p[e(172)]-1][e(172)]),n==e(201)&&(m[0]=Math[e(164)](y[e(172)],0)),"Backspace"==n&&m[0]>0&&m[0]>y.length){const t=p[p[e(172)]-1][e(148)]("").slice(0,m[0]-1),n=p[p[e(172)]-1][e(148)]("")[e(208)](m[0]);t[e(153)](...n),p[p[e(172)]-1]=t[e(210)](""),m[0]--}if(n==e(191)){const t=p[p[e(172)]-1][e(148)]("")[e(208)](0,m[0]),n=p[p[e(172)]-1].split("")[e(208)](m[0]+1);t[e(153)](...n),p[p[e(172)]-1]=t[e(210)]("")}-1!=l[e(163)](n)&&!s&&this[e(193)](n)}if(s){const s=new I(n);this[e(206)](s),t[e(205)](),t[e(156)](),!s.defaultPrevented&&-1!=l[e(163)](n)&&this[e(206)](new C("^"+n))}}[o(143)](){const t=o;u.width=this.clientWidth,u.height=this[t(214)];const e=this[t(180)]()[1];g[1]=Math[t(164)](0,e-(u[t(192)]-45))}[o(199)](t){const e=o;t[e(222)](0,0,t.canvas[e(230)],t[e(168)][e(192)]),t[e(189)]="300 13"+e(190),t.textAlign=e(197),t[e(196)]=e(158),t[e(146)]=c,t[e(160)]=12,t[e(169)]=c,this.drawBuffer(),this[e(141)]&&this[e(202)](),t[e(146)]=e(171),t.shadowBlur=0}[o(202)](){if(Date.now()/500%2>1){const t=this.getCursorPosition();h.fillStyle=c,h.fillRect(t[0],t[1]-g[1],6,16)}}getMaxBufferWidth(){return u[o(230)]-2*a[0]}[o(180)](){const t=o,e=h[t(195)]("M");f=e[t(230)];const n=this.getMaxBufferWidth();let s=0;for(let t=0;t<m[1];t++){const e=p[t];if(n-h.measureText(e).width<0&&d){const t=P(e,n/f);for(let e of t)s++}else s++}return[a[0]+m[0]*f+r[0],a[1]+12*s+3*s+6-8+r[1]]}[o(159)](){const t=o,e=this[t(165)]();let n=a[0],s=a[1]-g[1];const i=e=>{h[t(149)](e,n,s),s+=15};for(let n of p)if(e-h.measureText(n)[t(230)]<0&&d){const t=P(n,e/f);for(let e of t)i(e)}else i(n)}[o(229)](){const t=o;this[t(199)](h),requestAnimationFrame(this[t(229)][t(187)](this))}}function P(t,e){const n=o,s=[];for(t=t[n(148)]("");t.length>e;){const i=t.splice(0,e);s[n(153)](i.join(""))}return s[n(153)](t[n(210)]("")),s}customElements.define(o(152),E);const S=[" left the room.","splice","fetchModule","indexOf","append","write","onmessage","[Module] Installed module '","connectToWebSocket","type",'{ "modules": [] }',"replace","cursor","installModule","Missing install method in module: ","then","commandName","print","getTerminal","username","data","moduleName","set","object","stringify","left","Module not found.","[Module] Uninstalled module '","message","wss","http","modules","getItem","split","length","setItem","sleep","' already installed.","parse","uninstall","getModules","getSocket","origin","uninstallModule","install","delete","onopen","text"];var k,T;k=S,T=482,function(t){for(;--t;)k.push(k.shift())}(++T);const B=function(t,e){return S[t-=116]},_=B,O=new E;let L,A=new Map;const N=_(145);function U(){const t=_;let e=localStorage[t(146)](N);return!e&&(e=t(124)),JSON[t(152)](e)}function j(t){localStorage[_(149)](N,JSON.stringify(t))}class W{static async loadModules(){const t=_,e=U();for(let n of e[t(145)]){const e=await W[t(116)](n);W[t(127)](e)}}static[_(154)](){return A}static async[_(116)](t){const e=_,n=await fetch(t)[e(129)]((t=>t[e(161)]())),s="data:application/javascript;base64,"+btoa(n),i=await fetchModule(s);i.origin=t;let o=U();return-1===o[e(145)].indexOf(i[e(156)])&&o.modules.push(i.origin),j(o),i}static async installModule(t){const e=_,n=t[e(135)]||t.origin;if(A.get(n))W.print("[Module] Module '"+n+e(151));else try{if(!t[e(158)])throw new Error(e(128)+path);A[e(136)](n,t),await t[e(158)](W),W[e(131)](e(121)+n+"'"),t.commandName&&(V[t[e(130)]]=t.run)}catch(t){W[e(131)]("[Error] "+t[e(142)])}}static[_(157)](t){const e=_,n=A.get(t);if(n){A[e(159)](t),n[e(153)](),n[e(130)]&&(V[n[e(130)]]=null);let s=U();s[e(145)][e(163)](s.modules[e(117)](n[e(156)]),1),j(s),W[e(131)](e(141)+t+"'")}else W.print(e(140))}static[_(122)](t=(()=>{})){const e=_;return L=new WebSocket(location[e(156)][e(125)]("https",e(143))[e(125)](e(144),"ws")),L[e(160)]=e=>{t()},L[e(120)]=t=>{const n=e,s=JSON[n(152)](t[n(134)]);if(s[n(123)]==n(142)){const t=s[n(134)][n(133)]+": "+s.data[n(161)];O[n(118)](O[n(126)][1],t)}if(s.type==n(139)){const t=s[n(134)][n(133)]+n(162);O[n(118)](O[n(126)][1],t)}},L}static[_(155)](){return L}static[_(132)](){return O}static async simulateWrite(t,e=24){return new Promise((n=>{O.disableInput();let s=0;const i=setInterval((()=>{const e=B,o=t[s];O[e(119)](o),s++,s==t[e(148)]&&(clearInterval(i),n())}),e)}))}static print(t){const e=_;typeof t==e(137)&&(t=JSON[e(138)](t,null,"\t"));const n=t[e(147)]("\n");for(let t of n)O[e(119)](t),O[e(119)]("\n")}static[_(150)](t){return new Promise((e=>{setTimeout((()=>e()),t)}))}}const D=["Provide a module path.","keys","getTerminal","catch","getModules","installModule","print","join","uninstallModule","Provide a module name.","\nCommands: \n","fetchModule","clear","Bye."];var F,H;F=D,H=439,function(t){for(;--t;)F.push(F.shift())}(++H);const R=function(t,e){return D[t-=447]},V={modules(){const t=R;for(let[e,n]of W[t(460)]())W[t(448)](e)},async install([t]){const e=R;if(t){const n=await W[e(453)](t)[e(459)]((t=>{W[e(448)]("[Error] "+t.message)}));await W[e(447)](n)}else W[e(448)](e(456))},async uninstall([t]){const e=R;t&&""!=t?await W[e(450)](t):W.print(e(451))},clear(t){const e=R;W[e(458)]()[e(454)]()},help(){const t=R;W[t(448)](t(452)+Object[t(457)](this)[t(449)](", ")+"\n")},exit:t=>new Promise((t=>{const e=R,n=W[e(458)]();n.setPrefix(""),n.disableInput(),n[e(454)](),W[e(448)](e(455)),setTimeout((()=>window.close()),1e3)}))};var q,z,J=["ConsoleModule","uninstall","install"];q=J,z=166,function(t){for(;--t;)q.push(q.shift())}(++z);var G=function(t,e){return J[t-=130]};class K{static[G(131)](){}static[G(130)](){}static run(t){}}window[G(132)]=K;const Y=["fillStyle","cos","getTerminal","install","addEventListener","shortcut","disableInput","red","test-module","run","commandName","sin","getContext"];var $,Q;$=Y,Q=332,function(t){for(;--t;)$.push($.shift())}(++Q);const X=function(t,e){return Y[t-=265]},Z=X;let tt;class et extends ConsoleModule{static get moduleName(){return X(266)}static get[Z(268)](){return"test"}static[Z(274)](t){tt=t}static[Z(267)](t){return new Promise((t=>{const e=X,n=tt[e(273)]();let s=!0;n[e(277)](),n[e(275)](e(276),(e=>{"c"==e.key.toLocaleLowerCase()&&(s=!1,t())}));let i=0,o=0;const a=()=>{const t=e,r=n[t(270)](),c=performance.now()/100;i+=20*Math[t(269)](c),o+=5*Math[t(272)](c+c),r[t(271)]=t(265),r.fillRect(400+i,100+o,48,48),s&&requestAnimationFrame(a)};a()}))}}var nt=n(384);const st=["Provide twitch login name!","commandName","slice","Provide twitch login name.","data","twitch","install","keys","Commands: ","print","moduleName"];var it,ot;it=st,ot=147,function(t){for(;--t;)it.push(it.shift())}(++ot);const at=function(t,e){return st[t-=271]},rt=at,ct={async streamClips(t){const e=at;return t[0]?await(0,nt.queryClipsByStreamId)(t[0]):e(281)},async vod(t){const e=at;return t[0]?await(0,nt.getVODsByUser)(t[0]):e(281)},async stream(t){const e=at;return t[0]?await(0,nt.getStreamsByUser)(t[0]):e(281)},async user(t){const e=at;return t[0]?(await(0,nt.getUserByLogin)(t[0]))[e(271)][0]:e(281)},following(t){const e=at;if(!t[0])return e(278);(0,nt.getUserFollowers)(t[0])},followers(t){if(!t[0])return"Provide twitch login name!";(0,nt.getChannelAllFollowers)(t[0])},viewership(t){const e=at;if(!t[0]||!t[1])return e(278);(0,nt.getChannelViewerOverlap)(t[0],t[1])}};let lt;class ut extends ConsoleModule{static get[rt(277)](){return"twitch-module"}static get[rt(279)](){return rt(272)}static[rt(273)](t){lt=t}static async run(t){const e=rt;(0,nt.setConsole)(lt);const n=t[0],s=t[e(280)](1);if(n in ct){const t=await ct[n](s);t&&lt[e(276)](t)}else lt[e(276)]("Unknown command"),lt[e(276)](e(275)+Object[e(274)](ct))}}const ht=["addEventListener","Loading native modules...\n","Loading optional modules...\n","key",'" not found.\n',"message","connectToWebSocket","[Error] ","sleep","preventDefault","clipboard","readText","fetchModule","getTerminal","terminal@52.59.209.57:~$ ","Connection established.","write","catch","string","error","read","simulateWrite","split","shortcut","Connecting to Interface...","print","disableInput","installModule","contextmenu","slice","Initializing...\n\n","\n[Internal Error]: ","\nProcess exited.\n"];var dt,ft;dt=ht,ft=139,function(t){for(;--t;)dt.push(dt.shift())}(++ft);const pt=function(t,e){return ht[t-=272]},wt=pt(279),mt=[et,ut];let gt=null;const yt=W[pt(278)]();yt[pt(291)](),mainEle.appendChild(yt),setTimeout((async()=>{const t=pt,e=W.getTerminal();await W[t(290)]("\n\n@@@@@@            .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     @@@@@@@@@@@@@@@ \n@@@@@@@@,               /@@@.                        @@@(            \n@@@@  @@@@#             /@@@.                        @@@(            \n@@@@    @@@@@@@@@       /@@@.     @@@@@@@@@@@&       @@@(            \n@@@@      @@@@@         /@@@.                        @@@(            \n(@@@        %           /@@@.                        @@@(            \n  .@                    /@@@.     @@@@@@@@@@@@@      @@@@@@@@@@@@@@@/\n\n"),await W[t(273)](100),await W[t(286)](t(295),4),await W[t(290)](t(299));for(let e of mt){let n=e;typeof n===t(283)&&(n=await W[t(277)](e).catch((e=>{const n=t;W[n(290)](n(272)+e[n(303)])}))),await W[t(292)](n)}async function n(n){const s=t;if(""!=n[0])if(V[n[0]]){gt=!1;const t=await V[n[0]](n[s(294)](1));0!==t&&null!=t&&W.print(s(297)),e[s(285)](wt),gt=!0}else W[s(290)]('\nCommand "'+n[0]+s(302))}W.print(""),await W[t(290)](t(300)),await W.loadModules(),W.print(""),await W[t(273)](100),await W[t(290)](t(289),4),W[t(304)]((async()=>{const s=t;for(W[s(290)](s(280)),W[s(290)](""),await W[s(273)](100);;){const t=(await e[s(285)](wt))[s(287)](" ");await n(t)[s(282)]((t=>{const e=s;console[e(284)](t),W.print(e(296)+t[e(303)]+"\n")}))}})),e[t(298)](t(288),(n=>{const s=t;"r"==n[s(301)]?location.reload():"v"==n[s(301)]&&(navigator[s(275)][s(276)]().then((t=>{e.write(t)})),n.defaultPrevented=!0)})),window[t(298)](t(293),(n=>{const s=t;n[s(274)](),navigator.clipboard[s(276)]().then((t=>{e[s(281)](t)}))}))}),200)})()})();