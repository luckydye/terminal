(()=>{"use strict";const t=["font","Enter","top","split","append","shadowBlur","clear","pushToHistory","ArrowDown","write","push","\n            :host {\n                display: block;\n                width: 100%;\n                height: 100%;\n            }\n            canvas {\n                filter: contrast(1.1) blur(.33px);\n                outline: none;\n            }\n        ","Escape","init","replaceInput","addEventListener","submit","shortcut","length","max","Delete","loop","Backspace","shadowColor","ArrowRight","innerHTML","min","reformat","cursor","define","inputEnabled","shadowRoot","key","End","dispatchEvent","join","unshift","value","shiftKey","hideOutput","ArrowLeft","handleInput","drawCursor","newline","drawBuffer","clientHeight","setCursor","gyro-terminal","getContext","appendChild","textAlign","Home","getCursorPosition","open","indexOf","setBuffer","createElement","prefix","Terminal Version 1.0","attachShadow","ctrlKey","handleSubmit","clientWidth","#99d0f7","width","fillText","fillRect","slice","enableInput","cancelInput","fill","removeEventListener","draw","connectedCallback","left","resize","fillStyle","deltaY","setPrefix","tabIndex"," ~{}=<>^abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ()[]-.,_:;#+'*/&%$§!?€1234567890\"","height","(c) 2020 luckydye. All rights reserved.","canvas","keydown","disableInput"];var n,e;n=t,e=119,function(t){for(;--t;)n.push(n.shift())}(++e);const s=function(n,e){return t[n-=307]},i=s,o=[32,32],r=[1,0],c=i(337),a=i(354);let l,h,u=7.69,d=[i(332),i(356),""],p=[],f=[d[d.length-1][i(378)],d.length-1],w=[0,0],m="",g=!0,v=!1,b=[],x=-1;class y extends Event{constructor(t){const n=i;super("submit"),this[n(311)]=t}}class E extends Event{constructor(t){const n=i;super(n(377)),this[n(392)]=t}}class C extends HTMLElement{get[i(313)](){return v}set[i(313)](t){v=t}get inputEnabled(){return g}set[i(390)](t){g=t}get prefix(){return m}set[i(331)](t){m=t}get[i(388)](){return f}constructor(){const t=i;super(),l=document[t(330)](t(357)),l[t(353)]=0,h=l[t(322)]("2d"),window[t(375)](t(349),(n=>{this[t(387)]()})),window.addEventListener("wheel",(n=>{const e=t,s=Math.sign(n[e(351)]),i=o[1]+12*f[1]+3*f[1],r=Math.max(0,i-(l.height-45));w[1]=Math[e(379)](0,Math.min(r,w[1]+15*s))})),window.addEventListener(t(358),(n=>{this[t(315)](n)})),this[t(333)]({mode:t(327)})}[i(322)](){return h}[i(373)](){const t=i,n=document[t(330)]("style");n[t(385)]=t(371),this[t(391)][t(323)](n),this[t(391)].appendChild(l),this[t(381)]()}[i(347)](){const t=i;!l.parentNode&&this[t(373)](),this[t(387)]()}[i(364)](t,n){const e=i,s=d.slice(0,t);s[e(370)](n),s.push(...d[e(341)](t)),f[1]>=t&&f[1]++,this[e(329)](s)}setBuffer(t){d=t}[i(366)](){d=[""],this.setCursor(0,0)}setCursor(t,n){f[0]=null!=t?t:f[0],f[1]=null!=n?n:f[1]}[i(352)](t=""){this[i(331)]=t}[i(359)](){this.inputEnabled=!1}[i(342)](){this[i(390)]=!0}[i(335)](t){const n=i;v?(t=p[n(309)](""),v=!1):t=t.slice(this[n(331)][n(378)]),this[n(367)](t),this[n(308)](new y(t))}[i(367)](t){""!=t&&b[i(310)](t),x=-1}[i(343)](){const t=i;d[f[1]]=this[t(331)],this[t(320)](d[f[1]][t(378)])}[i(374)](t){const n=i;this[n(343)](),this[n(369)](t)}read(t){return new Promise((n=>{const e=s,i=d[d[e(378)]-1];this[e(390)]=!0,this[e(331)]=t||i,t&&i!==t&&this[e(369)](t);const o=t=>{const s=e;n(t.value),this[s(345)](s(376),o)};this[e(375)]("submit",o)}))}newline(){const t=i,n=d[d[t(378)]-1];return d[t(370)](""),f[0]="".length,f[1]++,n}[i(369)](t){const n=i;switch(t){case"\0":break;case"\r":const e=this[n(317)]();this[n(335)](e);break;case"\n":this[n(317)]();break;default:const s=h.measureText("M");u=s[n(338)];const i=d[f[1]].split("")[n(341)](0,f[0]);v?(p[n(370)](t),i[n(370)](...new Array(t[n(378)])[n(344)]("*"))):i[n(370)](t);const o=d[f[1]].split("")[n(341)](f[0]);i[n(370)](...o),d[f[1]]=i[n(309)](""),f[0]+=t[n(378)]}const e=o[1]+12*f[1]+3*f[1];w[1]=Math[n(379)](0,e-(l[n(355)]-45))}[i(315)](t){const n=i;let e=t[n(392)];t[n(312)];const s=t[n(334)];if(g){if(e==n(361)&&this[n(369)]("\r"),"ArrowUp"==e&&(x=Math.min(x+1,b[n(378)]-1),b[x]&&this.replaceInput(b[x])),e==n(368)&&(x=Math[n(379)](x-1,0),b[x]&&this[n(374)](b[x])),e==n(314)&&(f[0]=Math[n(379)](f[0]-1,Math[n(379)](m[n(378)],0))),e==n(384)&&(f[0]=Math[n(386)](f[0]+1,d[d[n(378)]-1][n(378)])),e==n(372)&&this.cancelInput(),e==n(307)&&(f[0]=d[d.length-1][n(378)]),e==n(325)&&(f[0]=Math[n(379)](m[n(378)],0)),e==n(382)&&f[0]>0&&f[0]>m[n(378)]){const t=d[d[n(378)]-1][n(363)]("")[n(341)](0,f[0]-1),e=d[d[n(378)]-1][n(363)]("")[n(341)](f[0]);t.push(...e),d[d.length-1]=t[n(309)](""),f[0]--}if(e==n(380)){const t=d[d[n(378)]-1][n(363)]("")[n(341)](0,f[0]),e=d[d.length-1].split("")[n(341)](f[0]+1);t.push(...e),d[d.length-1]=t[n(309)]("")}-1!=a[n(328)](e)&&!s&&this.write(e)}s&&(t.preventDefault(),t.stopPropagation(),this[n(308)](new E(e)),-1!=a[n(328)](e)&&this[n(308)](new y("^"+e)))}[i(387)](){const t=i;l[t(338)]=this[t(336)],l[t(355)]=this[t(319)]}[i(346)](t){const n=i;t.clearRect(0,0,t[n(357)][n(338)],t.canvas[n(355)]),t[n(360)]="300 13px monospace",t[n(324)]=n(348),t.textBaseline=n(362),t[n(383)]=c,t[n(365)]=12,t[n(350)]=c,this[n(318)](),this[n(390)]&&this.drawCursor(),t[n(383)]="none",t[n(365)]=0}[i(316)](){const t=i;if(Date.now()/500%2>1){const n=this[t(326)]();h[t(350)]=c,h[t(340)](n[0],n[1],6,16)}}[i(326)](){const t=o[0]+f[0]*u,n=o[1]+12*f[1]+3*f[1]+6-8-w[1];return[t+r[0],n+r[1]]}[i(318)](){const t=i;let n=0;for(let e of d){const s=o[0],i=o[1]+12*n+3*n-w[1];h[t(339)](e,s,i),n++}}[i(381)](){const t=i;this[t(346)](h),requestAnimationFrame(this[t(381)].bind(this))}}customElements[i(389)](i(321),C);const I=["wss","cursor","data","log","origin","gyro-terminal","length","http","\nConnection established.","onopen","append","appendChild","split","onmessage","createElement","replace","write"];var M,L;M=I,L=422,function(t){for(;--t;)M.push(M.shift())}(++L);const P=function(t,n){return I[t-=273]},k=P,A=document[k(273)](k(281));let T;function B(){return A}async function S(t,n=24){return new Promise((e=>{A.disableInput();let s=0;const i=setInterval((()=>{const n=P,o=t[s];A[n(275)](o),s++,s==t[n(282)]&&(clearInterval(i),e())}),n)}))}function D(t){const n=k,e=t[n(288)]("\n");for(let t of e)A[n(275)](t),A[n(275)]("\n")}function H(t){return new Promise((n=>{setTimeout((()=>n()),t)}))}A.disableInput(),mainEle[k(287)](A);const R=["\nActive connections: ","Please provide a chat id to connect to","then","clear","prefix","Username: ","json","disableInput","data","fillStyle","setPrefix","read","getContext","toLocaleLowerCase","newline","Bye.","close","red","shortcut","key","\nNo help needed :)\n"];var K,O;K=R,O=229,function(t){for(;--t;)K.push(K.shift())}(++O);const U=function(t,n){return R[t-=313]},j={help(t){D(U(314))},prefix(t){const n=U;D(B()[n(319)])},clear(t){const n=U;B()[n(318)]()},test:t=>new Promise((t=>{const n=U,e=B();let s=!0;e[n(322)](),e.addEventListener(n(333),(e=>{"c"==e[n(313)].toLocaleLowerCase()&&(s=!1,t())}));const i=()=>{const t=n,o=e[t(327)]();o[t(324)]=t(332),o.fillRect(100,100,100,100),s&&requestAnimationFrame(i)};i()})),async chat(t){const n=U,e=t[0];if(""==e||!e)return void D(n(316));const s=B();for(s[n(325)](""),s.disableInput(),await S("Connecting to chat...",10),s[n(329)](),s[n(329)](),await s[n(326)](n(320)),s[n(329)]();;){const t=await s[n(326)]("> ");if(console.log(t),"^c"==t[n(328)]())return 1}},connections(t){const n=U,e=B();return e[n(322)](),e[n(325)](""),fetch("/connections")[n(317)]((t=>t[n(321)]()))[n(317)]((async t=>{const e=n;await S(e(315)+t[e(323)]+"\n\n",12)}))},exit:t=>new Promise((t=>{const n=U,e=B();e.setPrefix(""),e[n(322)](),e[n(318)](),D(n(330)),setTimeout((()=>window[n(331)]()),1e3)}))},q=["Starting up",'\nCommand "',"... ","items","addEventListener","\nProcess exited.\n","slice","catch","\n\n@@@@@@            .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     @@@@@@@@@@@@@@@      \n@@@@@@@@,               /@@@.                        @@@(                 \n@@@@  @@@@#             /@@@.                        @@@(                 \n@@@@    @@@@@@@@@       /@@@.     @@@@@@@@@@@&       @@@(                 \n@@@@      @@@@@         /@@@.                        @@@(                 \n(@@@        %           /@@@.                        @@@(                 \n  .@                    /@@@.     @@@@@@@@@@@@@      @@@@@@@@@@@@@@@/     \n\n","getAsString","Connecting to Interface\0.\0.\0.","clipboardData","send","\0\0\0\0","message","read",'" not found.\n'];var F,N;F=q,N=344,function(t){for(;--t;)F.push(F.shift())}(++N);const W=function(t,n){return q[t-=487]},z=W(491),V="terminal@52.59.209.57:~$ ";let Y=null;setTimeout((async()=>{const t=W,n=B();await D(z),await H(200),await S(t(500),12),await S(t(502),250),await D("[OK]"),await H(200),await S(t(493),24),await S(t(496),12);const e=function(t=(()=>{})){const n=k;return T=new WebSocket(location[n(280)][n(274)]("https",n(276))[n(274)](n(283),"ws")),T[n(285)]=function(e){D(n(284)),t()},T[n(289)]=function(t){const e=n;console[e(279)](t);const s="User: "+t[e(278)]+"\n";A[e(286)](A[e(277)][1],s)},T}((async()=>{const e=t;for(D("");;){const t=(await n[e(498)](V)).split(" ");await s(t)[e(490)]((t=>{const n=e;console.error(t),D("\n[Internal Error]: "+t[n(497)]+"\n")}))}}));async function s(s){const i=t;if(""!=s[0])if(j[s[0]]){Y=!1;const t=await j[s[0]](s[i(489)](1));0!==t&&null!=t&&D(i(488)),n[i(498)](V),Y=!0}else e[i(495)](s),D(i(501)+s[0]+i(499))}window[t(487)]("paste",(e=>{const s=t;e[s(494)][s(503)][0][s(492)]((t=>{n.write(t)}))}))}),500)})();