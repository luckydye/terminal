(()=>{"use strict";const t=["connectedCallback","gyro-terminal","replaceInput","addEventListener","join","style","handleSubmit","reformat","min","clientHeight","fillRect","height","push","prefix","End","newline","write","key","setPrefix","sign","drawCursor","indexOf","appendChild","#99d0f7","shadowColor","width","shiftKey","getCursorPosition","enableInput","draw","font","fillText","submit","hideOutput","length","deltaY","innerHTML","shadowRoot","top","wheel","\n            :host {\n                display: block;\n                width: 100%;\n                height: 100%;\n            }\n            canvas {\n                filter: contrast(1.1) blur(.33px);\n            }\n        ","ArrowDown"," ~{}=<>^abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ()[]-.,_:;#+'*/&%$§!?€1234567890\"","parentNode","Terminal Version 1.0","createElement","preventDefault","define","handleInput","shortcut","cursor","slice","Delete","cancelInput","read","ArrowLeft","clear","value","left","dispatchEvent","resize","setCursor","measureText","getContext","ArrowUp","textBaseline","loop","Escape","Home","textAlign","ctrlKey","max","inputEnabled","append","shadowBlur","fillStyle","split","now","pushToHistory","canvas","(c) 2020 luckydye. All rights reserved."];var n,e;n=t,e=196,function(t){for(;--t;)n.push(n.shift())}(++e);const s=function(n,e){return t[n-=221]},i=s,o=[32,32],r=[1,0],a=i(291),c=i(229);let l,h,u=7.69,d=[i(231),i(267),""],p=[],f=[d[d[i(221)]-1][i(221)],d[i(221)]-1],w=[0,0],m="",g=!0,v=!1,b=[],y=-1;class x extends Event{constructor(t){const n=i;super(n(300)),this[n(244)]=t}}class E extends Event{constructor(t){super(i(236)),this.key=t}}class I extends HTMLElement{get[i(301)](){return v}set[i(301)](t){v=t}get[i(259)](){return g}set[i(259)](t){g=t}get[i(281)](){return m}set[i(281)](t){m=t}get[i(237)](){return f}constructor(){const t=i;super(),l=document[t(232)](t(266)),h=l[t(250)]("2d"),window[t(271)](t(247),(n=>{this[t(275)]()})),window.addEventListener(t(226),(n=>{const e=t,s=Math[e(287)](n[e(222)]),i=o[1]+12*f[1]+3*f[1],r=Math[e(258)](0,i-(l[e(279)]-45));w[1]=Math[e(258)](0,Math[e(276)](r,w[1]+15*s))})),window[t(271)]("keydown",(n=>{this[t(235)](n)})),this.attachShadow({mode:"open"})}init(){const t=i,n=document[t(232)](t(273));n[t(223)]=t(227),this[t(224)][t(290)](n),this.shadowRoot[t(290)](l),this[t(253)]()}[i(268)](){const t=i;!l[t(230)]&&this.init(),this[t(275)]()}[i(260)](t,n){const e=i,s=d.slice(0,t);s[e(280)](n),s.push(...d[e(238)](t)),f[1]>=t&&f[1]++,this.setBuffer(s)}setBuffer(t){d=t}[i(243)](){d=[""],this[i(248)](0,0)}[i(248)](t,n){f[0]=null!=t?t:f[0],f[1]=null!=n?n:f[1]}[i(286)](t=""){this[i(281)]=t}disableInput(){this[i(259)]=!1}[i(296)](){this[i(259)]=!0}[i(274)](t){const n=i;v?(t=p[n(272)](""),v=!1):t=t.slice(this[n(281)][n(221)]),this[n(265)](t),this[n(246)](new x(t))}pushToHistory(t){""!=t&&b.unshift(t),y=-1}[i(240)](){const t=i;d[f[1]]=this[t(281)],this[t(248)](d[f[1]][t(221)])}replaceInput(t){const n=i;this[n(240)](),this[n(284)](t)}[i(241)](t){return new Promise((n=>{const e=s,i=d[d[e(221)]-1];this.inputEnabled=!0,this[e(281)]=t||i,t&&i!==t&&this[e(284)](t);const o=t=>{n(t[e(244)]),this.removeEventListener("submit",o)};this[e(271)]("submit",o)}))}[i(283)](){const t=i,n=d[d.length-1];return d[t(280)](""),f[0]=""[t(221)],f[1]++,n}[i(284)](t){const n=i;switch(t){case"\0":break;case"\r":const e=this[n(283)]();this[n(274)](e);break;case"\n":this[n(283)]();break;default:const s=h[n(249)]("M");u=s[n(293)];const i=d[f[1]][n(263)]("").slice(0,f[0]);v?(p[n(280)](t),i[n(280)](...new Array(t[n(221)]).fill("*"))):i[n(280)](t);const o=d[f[1]].split("")[n(238)](f[0]);i[n(280)](...o),d[f[1]]=i[n(272)](""),f[0]+=t[n(221)]}const e=o[1]+12*f[1]+3*f[1];w[1]=Math.max(0,e-(l.height-45))}handleInput(t){const n=i;if(!g)return;let e=t[n(285)];t[n(294)];const s=t[n(257)];if("Enter"==e&&this[n(284)]("\r"),e==n(251)&&(y=Math[n(276)](y+1,b[n(221)]-1),b[y]&&this.replaceInput(b[y])),e==n(228)&&(y=Math[n(258)](y-1,0),b[y]&&this[n(270)](b[y])),e==n(242)&&(f[0]=Math[n(258)](f[0]-1,Math.max(m[n(221)],0))),"ArrowRight"==e&&(f[0]=Math.min(f[0]+1,d[d[n(221)]-1][n(221)])),e==n(254)&&this[n(240)](),e==n(282)&&(f[0]=d[d[n(221)]-1][n(221)]),e==n(255)&&(f[0]=Math[n(258)](m[n(221)],0)),"Backspace"==e&&f[0]>0&&f[0]>m[n(221)]){const t=d[d.length-1].split("")[n(238)](0,f[0]-1),e=d[d.length-1][n(263)]("")[n(238)](f[0]);t[n(280)](...e),d[d[n(221)]-1]=t[n(272)](""),f[0]--}if(e==n(239)){const t=d[d.length-1][n(263)]("")[n(238)](0,f[0]),e=d[d[n(221)]-1].split("")[n(238)](f[0]+1);t[n(280)](...e),d[d.length-1]=t[n(272)]("")}-1!=c[n(289)](e)&&!s&&this[n(284)](e),s&&(t[n(233)](),t.stopPropagation(),this.dispatchEvent(new E(e)),-1!=c[n(289)](e)&&this[n(246)](new x("^"+e)))}[i(275)](){const t=i;l[t(293)]=this.clientWidth,l[t(279)]=this[t(277)]}[i(297)](t){const n=i;t.clearRect(0,0,t.canvas[n(293)],t[n(266)].height),t[n(298)]="300 13px monospace",t[n(256)]=n(245),t[n(252)]=n(225),t[n(292)]=a,t[n(261)]=12,t[n(262)]=a,this.drawBuffer(),this[n(259)]&&this.drawCursor()}[i(288)](){const t=i;if(Date[t(264)]()/500%2>1){const n=this.getCursorPosition();h[t(262)]=a,h[t(278)](n[0],n[1],6,16)}}[i(295)](){const t=o[0]+f[0]*u,n=o[1]+12*f[1]+3*f[1]+6-8-w[1];return[t+r[0],n+r[1]]}drawBuffer(){const t=i;let n=0;for(let e of d){const s=o[0],i=o[1]+12*n+3*n-w[1];h[t(299)](e,s,i),n++}}loop(){const t=i;this[t(297)](h),requestAnimationFrame(this[t(253)].bind(this))}}customElements[i(234)](i(269),I);const C=["onmessage","wss","https","length","http","createElement","write","data","User: ","replace","append","origin","split","disableInput","\nConnection established.","cursor"];var M,k;M=C,k=257,function(t){for(;--t;)M.push(M.shift())}(++k);const P=function(t,n){return C[t-=244]},A=P,T=document[A(248)]("gyro-terminal");let L;function B(){return T}async function H(t,n=24){return new Promise((e=>{T.disableInput();let s=0;const i=setInterval((()=>{const n=P,o=t[s];T[n(249)](o),s++,s==t[n(246)]&&(clearInterval(i),e())}),n)}))}function S(t){const n=A,e=t[n(255)]("\n");for(let t of e)T[n(249)](t),T[n(249)]("\n")}function D(t){return new Promise((n=>{setTimeout((()=>n()),t)}))}T[A(256)](),mainEle.appendChild(T);const R=["\nActive connections: ","Username: ","read","then","toLocaleLowerCase","clear","\nNo help needed :)\n","disableInput","Bye.","json","close","/connections","newline","setPrefix","log","prefix","data"];var K,O;K=R,O=232,function(t){for(;--t;)K.push(K.shift())}(++O);const U=function(t,n){return R[t-=141]},j={help(t){S(U(153))},prefix(t){const n=U;S(B()[n(145)])},clear(t){const n=U;B()[n(152)]()},async chat(t){const n=U,e=t[0];if(""==e||!e)return void S("Please provide a chat id to connect to");const s=B();for(s[n(143)](""),s.disableInput(),await H("Connecting to chat...",10),s[n(142)](),s[n(142)](),await s.read(n(148)),s[n(142)]();;){const t=await s[n(149)]("> ");if(console[n(144)](t),"^c"==t[n(151)]())return 1}},connections(t){const n=U,e=B();e.disableInput(),e[n(143)](""),fetch(n(141))[n(150)]((t=>t[n(156)]()))[n(150)]((async t=>{const e=n;await H(e(147)+t[e(146)]+"\n\n",12)}))},exit:t=>new Promise((t=>{const n=U,e=B();e[n(143)](""),e[n(154)](),e[n(152)](),S(n(155)),setTimeout((()=>window[n(157)]()),1e3)}))},N=['\nCommand "',"items","clipboardData","\n\n@@@@@@            .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     @@@@@@@@@@@@@@@      \n@@@@@@@@,               /@@@.                        @@@(                 \n@@@@  @@@@#             /@@@.                        @@@(                 \n@@@@    @@@@@@@@@       /@@@.     @@@@@@@@@@@&       @@@(                 \n@@@@      @@@@@         /@@@.                        @@@(                 \n(@@@        %           /@@@.                        @@@(                 \n  .@                    /@@@.     @@@@@@@@@@@@@      @@@@@@@@@@@@@@@/     \n\n","\0\0\0\0","read","\nProcess exited.\n","Starting up","getAsString","write","split","slice",'" not found.\n',"error","\n[Internal Error]: ","message","paste","Connecting to Interface\0.\0.\0.","addEventListener","... "];var W,q;W=N,q=413,function(t){for(;--t;)W.push(W.shift())}(++q);const z=function(t,n){return N[t-=214]},F=z(224),V="terminal@52.59.209.57:~$ ";let Y=null;setTimeout((async()=>{const t=z,n=B();await S(F),await D(200),await H(t(228),12),await H(t(220),250),await S("[OK]"),await D(200),await H(t(218),24),await H(t(225),12);const e=function(t=(()=>{})){const n=A;return L=new WebSocket(location[n(254)][n(252)](n(245),n(244))[n(252)](n(247),"ws")),L.onopen=function(e){S(n(257)),t()},L[n(259)]=function(t){const e=n;console.log(t);const s=e(251)+t[e(250)]+"\n";T[e(253)](T[e(258)][1],s)},L}((async()=>{const e=t;for(S("");;){const t=(await n[e(226)](V))[e(231)](" ");await s(t).catch((t=>{const n=e;console[n(214)](t),S(n(215)+t[n(216)]+"\n")}))}}));async function s(s){const i=t;if(""!=s[0])if(j[s[0]]){Y=!1;const t=await j[s[0]](s[i(232)](1));0!==t&&null!=t&&S(i(227)),n[i(226)](V),Y=!0}else e.send(s),S(i(221)+s[0]+i(233))}window[t(219)](t(217),(e=>{const s=t;e[s(223)][s(222)][0][s(229)]((t=>{n[s(230)](t)}))}))}),500)})();