(()=>{"use strict";const t=["replaceInput","font","cursor","parentNode","value","pushToHistory","px monospace","drawBuffer","slice","preventDefault","loop","push","connectedCallback","append","Terminal Version 1.0","fillText","clientWidth","addEventListener","bind","shadowColor","cancelInput","left","length","indexOf","read","handleInput","clearRect","innerHTML","prefix","join","stopPropagation","End","width","now","canvas","min","wheel","disableInput","handleSubmit","reformat","Enter","getContext","height","gyro-terminal","unshift","shiftKey","shadowBlur","keydown","inputEnabled","getCursorPosition","Backspace","submit","hideOutput","setBuffer","shadowRoot","enableInput","open","newline","textAlign","max","resize","createElement","measureText","shortcut","clientHeight","init","setCursor","dispatchEvent","fillRect","ArrowLeft","fillStyle","key","ctrlKey","Delete","appendChild","Home","attachShadow","textBaseline","ArrowDown","sign","split","ArrowUp","drawCursor","#99d0f7","deltaY","write"];var n,e;n=t,e=423,function(t){for(;--t;)n.push(n.shift())}(++e);const s=function(n,e){return t[n-=463]},o=s,i=[32,32],r=[1,0],c=o(467),a=" ~{}=<>^abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ()[]-.,_:;#+'*/&%$§!?€1234567890\"";let l,h,u=7.69,d=[o(484),"(c) 2020 luckydye. All rights reserved.",""],f=[],p=[d[d[o(492)]-1].length,d[o(492)]-1],w=[0,0],m="",g=!0,x=!1,v=[],E=-1;class b extends Event{constructor(t){const n=o;super(n(521)),this[n(474)]=t}}class y extends Event{constructor(t){const n=o;super(n(533)),this[n(541)]=t}}class C extends HTMLElement{get[o(522)](){return x}set[o(522)](t){x=t}get inputEnabled(){return g}set[o(518)](t){g=t}get[o(498)](){return m}set prefix(t){m=t}get[o(472)](){return p}constructor(){const t=o;super(),l=document[t(531)](t(504)),l.tabIndex=0,h=l[t(511)]("2d"),window.addEventListener(t(530),(t=>{this.reformat()})),window.addEventListener(t(506),(n=>{const e=t,s=Math[e(463)](n[e(468)]),o=i[1]+12*p[1]+3*p[1],r=Math[e(529)](0,o-(l[e(512)]-45));w[1]=Math[e(529)](0,Math[e(505)](r,w[1]+15*s))})),window[t(487)](t(517),(n=>{this[t(495)](n)})),this[t(546)]({mode:t(526)})}[o(511)](){return h}init(){const t=o,n=document.createElement("style");n[t(497)]="\n            :host {\n                display: block;\n                width: 100%;\n                height: 100%;\n            }\n            canvas {\n                filter: contrast(1.1) blur(.33px);\n                outline: none;\n            }\n        ",this[t(524)][t(544)](n),this[t(524)].appendChild(l),this[t(480)]()}[o(482)](){const t=o;!l[t(473)]&&this[t(535)](),this[t(509)]()}[o(483)](t,n){const e=o,s=d[e(478)](0,t);s[e(481)](n),s[e(481)](...d[e(478)](t)),p[1]>=t&&p[1]++,this.setBuffer(s)}[o(523)](t){d=t}clear(){d=[""],this[o(536)](0,0)}[o(536)](t,n){p[0]=null!=t?t:p[0],p[1]=null!=n?n:p[1]}setPrefix(t=""){this[o(498)]=t}[o(507)](){this.inputEnabled=!1}[o(525)](){this[o(518)]=!0}[o(508)](t){const n=o;x?(t=f[n(499)](""),x=!1):t=t[n(478)](this[n(498)][n(492)]),this[n(475)](t),this[n(537)](new b(t))}[o(475)](t){""!=t&&v[o(514)](t),E=-1}[o(490)](){const t=o;d[p[1]]=this.prefix,this[t(536)](d[p[1]].length)}[o(470)](t){const n=o;this[n(490)](),this[n(469)](t)}[o(494)](t){return new Promise((n=>{const e=s,o=d[d.length-1];this[e(518)]=!0,this[e(498)]=t||o,t&&o!==t&&this[e(469)](t);const i=t=>{const s=e;n(t[s(474)]),this.removeEventListener(s(521),i)};this[e(487)](e(521),i)}))}[o(527)](){const t=d[d[o(492)]-1];return d.push(""),p[0]="".length,p[1]++,t}[o(469)](t){const n=o;switch(t){case"\0":break;case"\r":const e=this.newline();this[n(508)](e);break;case"\n":this[n(527)]();break;default:const s=h[n(532)]("M");u=s.width;const o=d[p[1]][n(464)]("")[n(478)](0,p[0]);x?(f[n(481)](t),o.push(...new Array(t[n(492)]).fill("*"))):o.push(t);const i=d[p[1]][n(464)]("").slice(p[0]);o[n(481)](...i),d[p[1]]=o[n(499)](""),p[0]+=t.length}const e=i[1]+12*p[1]+3*p[1];w[1]=Math[n(529)](0,e-(l[n(512)]-45))}handleInput(t){const n=o;let e=t[n(541)];t[n(515)];const s=t[n(542)];if(g){if(e==n(510)&&this[n(469)]("\r"),e==n(465)&&(E=Math.min(E+1,v.length-1),v[E]&&this.replaceInput(v[E])),e==n(548)&&(E=Math[n(529)](E-1,0),v[E]&&this[n(470)](v[E])),e==n(539)&&(p[0]=Math[n(529)](p[0]-1,Math.max(m.length,0))),"ArrowRight"==e&&(p[0]=Math[n(505)](p[0]+1,d[d[n(492)]-1][n(492)])),"Escape"==e&&this[n(490)](),e==n(501)&&(p[0]=d[d[n(492)]-1][n(492)]),e==n(545)&&(p[0]=Math[n(529)](m[n(492)],0)),e==n(520)&&p[0]>0&&p[0]>m[n(492)]){const t=d[d.length-1][n(464)]("")[n(478)](0,p[0]-1),e=d[d.length-1][n(464)]("")[n(478)](p[0]);t.push(...e),d[d[n(492)]-1]=t[n(499)](""),p[0]--}if(e==n(543)){const t=d[d.length-1][n(464)]("")[n(478)](0,p[0]),e=d[d.length-1][n(464)]("").slice(p[0]+1);t[n(481)](...e),d[d[n(492)]-1]=t.join("")}-1!=a[n(493)](e)&&!s&&this[n(469)](e)}s&&(t[n(479)](),t[n(500)](),this[n(537)](new y(e)),-1!=a[n(493)](e)&&this[n(537)](new b("^"+e)))}[o(509)](){const t=o;l[t(502)]=this[t(486)],l[t(512)]=this[t(534)]}draw(t){const n=o;t[n(496)](0,0,t[n(504)][n(502)],t[n(504)][n(512)]),t[n(471)]="300 13"+n(476),t[n(528)]=n(491),t[n(547)]="top",t[n(489)]=c,t[n(516)]=12,t[n(540)]=c,this[n(477)](),this.inputEnabled&&this[n(466)](),t[n(489)]="none",t.shadowBlur=0}[o(466)](){const t=o;if(Date[t(503)]()/500%2>1){const n=this[t(519)]();h[t(540)]=c,h[t(538)](n[0],n[1],6,16)}}[o(519)](){const t=i[0]+p[0]*u,n=i[1]+12*p[1]+3*p[1]+6-8-w[1];return[t+r[0],n+r[1]]}[o(477)](){const t=o;let n=0;for(let e of d){const s=i[0],o=i[1]+12*n+3*n-w[1];h[t(485)](e,s,o),n++}}loop(){const t=o;this.draw(h),requestAnimationFrame(this[t(480)][t(488)](this))}}customElements.define(o(513),C);const I=["replace","gyro-terminal","http","split","data","origin","cursor","appendChild","log","append","write","https","disableInput"];var M,L;M=I,L=404,function(t){for(;--t;)M.push(M.shift())}(++L);const P=function(t,n){return I[t-=220]},k=P,A=document.createElement(k(220));let T;function B(){return A}async function S(t,n=24){return new Promise((e=>{const s=P;A[s(231)]();let o=0;const i=setInterval((()=>{const n=s,r=t[o];A[n(229)](r),o++,o==t.length&&(clearInterval(i),e())}),n)}))}function D(t){const n=k,e=t[n(222)]("\n");for(let t of e)A[n(229)](t),A[n(229)]("\n")}function H(t){return new Promise((n=>{setTimeout((()=>n()),t)}))}A[k(231)](),mainEle[k(226)](A);const R=["setPrefix","Bye.","Username: ","\nActive connections: ","disableInput","then","/connections","shortcut","data","\nNo help needed :)\n","getContext","Please provide a chat id to connect to","red","read","log","newline","fillRect","fillStyle","toLocaleLowerCase","clear","key","Connecting to chat...","close","prefix"];var j,K;j=R,K=255,function(t){for(;--t;)j.push(j.shift())}(++K);const O=function(t,n){return R[t-=129]},U={help(t){D(O(147))},prefix(t){const n=O;D(B()[n(137)])},clear(t){const n=O;B()[n(133)]()},test:t=>new Promise((t=>{const n=O,e=B();let s=!0;e[n(142)](),e.addEventListener(n(145),(e=>{"c"==e[n(134)].toLocaleLowerCase()&&(s=!1,t())}));const o=()=>{const t=n,i=e[t(148)]();i[t(131)]=t(150),i[t(130)](100,100,100,100),s&&requestAnimationFrame(o)};o()})),async chat(t){const n=O,e=t[0];if(""==e||!e)return void D(n(149));const s=B();for(s.setPrefix(""),s[n(142)](),await S(n(135),10),s[n(129)](),s[n(129)](),await s[n(151)](n(140)),s[n(129)]();;){const t=await s[n(151)]("> ");if(console[n(152)](t),"^c"==t[n(132)]())return 1}},connections(t){const n=O,e=B();e.disableInput(),e.setPrefix(""),fetch(n(144))[n(143)]((t=>t.json())).then((async t=>{const e=n;await S(e(141)+t[e(146)]+"\n\n",12)}))},exit:t=>new Promise((t=>{const n=O,e=B();e[n(138)](""),e[n(142)](),e[n(133)](),D(n(139)),setTimeout((()=>window[n(136)]()),1e3)}))},q=['\nCommand "',"catch","Connecting to Interface\0.\0.\0.","read","send","\0\0\0\0","write","\n[Internal Error]: ","\nProcess exited.\n","Starting up","clipboardData","items","[OK]","... ","slice",'" not found.\n'];var F,N;F=q,N=410,function(t){for(;--t;)F.push(F.shift())}(++N);const W=function(t,n){return q[t-=342]},z="terminal@52.59.209.57:~$ ";let V=null;setTimeout((async()=>{const t=W,n=B();await D("\n\n@@@@@@            .@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     @@@@@@@@@@@@@@@      \n@@@@@@@@,               /@@@.                        @@@(                 \n@@@@  @@@@#             /@@@.                        @@@(                 \n@@@@    @@@@@@@@@       /@@@.     @@@@@@@@@@@&       @@@(                 \n@@@@      @@@@@         /@@@.                        @@@(                 \n(@@@        %           /@@@.                        @@@(                 \n  .@                    /@@@.     @@@@@@@@@@@@@      @@@@@@@@@@@@@@@/     \n\n"),await H(200),await S(t(357),12),await S(t(345),250),await D(t(344)),await H(200),await S(t(350),24),await S(t(353),12);const e=function(t=(()=>{})){const n=k;return T=new WebSocket(location[n(224)][n(232)](n(230),"wss")[n(232)](n(221),"ws")),T.onopen=function(n){D("\nConnection established."),t()},T.onmessage=function(t){const e=n;console[e(227)](t);const s="User: "+t[e(223)]+"\n";A[e(228)](A[e(225)][1],s)},T}((async()=>{const e=t;for(D("");;){const t=(await n[e(351)](z)).split(" ");await s(t)[e(349)]((t=>{const n=e;console.error(t),D(n(355)+t.message+"\n")}))}}));async function s(s){const o=t;if(""!=s[0])if(U[s[0]]){V=!1;const t=await U[s[0]](s[o(346)](1));0!==t&&null!=t&&D(o(356)),n.read(z),V=!0}else e[o(352)](s),D(o(348)+s[0]+o(347))}window.addEventListener("paste",(e=>{const s=t;e[s(342)][s(343)][0].getAsString((t=>{n[s(354)](t)}))}))}),500)})();